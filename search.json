[
  {
    "objectID": "ignore/meta-structure-equations.html",
    "href": "ignore/meta-structure-equations.html",
    "title": "Fixed, Random and Correlated Random Effects",
    "section": "",
    "text": "Add unobserved heterogeneity\n\\[\nY_i = \\mathbf{X}_i'\\beta + \\tau D_i + U_i +\\epsilon_i \\quad \\quad \\quad Eq. 2\n\\]\n\n\nMove to panel data setting\n\\[\nY_{it} = \\mathbf{X}_{it}'\\beta + \\tau D_{it} + U_i + \\epsilon_i \\quad \\quad \\quad Eq. 3\n\\]\n\n\nPooled OLS\n\\[\n\\begin{aligned}\nY_{it} &=\\mathbf{X}_{it}'\\beta + \\tau D_{it} + \\overbrace{U_i + \\epsilon_{it}}^{\\eta_{it}} \\\\\n&= \\mathbf{X}_{it}'\\beta + \\tau D_{it}  + \\eta_{it} \\quad \\quad \\quad Eq. 4\n\\end{aligned}\n\\]\n\n\nRandom Effects\n\\[\n\\begin{aligned}\nY_{it} &= \\mathbf{X}_{it}'\\beta + \\tau D_{it}  + \\overbrace{U_i + \\epsilon_{it}}^{v_it} \\\\\nY_{it} &= \\mathbf{X}_{it}'\\beta + \\tau D_{it}  + v_{it} \\quad \\quad \\quad Eq. 5 \\\\\nv_{it} &= U_i + \\epsilon_{it} \\\\\nU_i &\\sim N(0,\\sigma^2_u)\n\\end{aligned}\n\\]\n\n\nDummy Variable Regression\n\\[\nY_{it} = \\mathbf{X}_{it}'\\beta + \\tau D_i + \\mathbf{U}_i + \\epsilon_{it} \\quad \\quad \\quad Eq. 6\n\\]\n\n\nFirst Differences\n\\[\n\\begin{aligned}\nY_{it} &= \\mathbf{X}_{it}'\\beta + \\tau D_{it} + U_i + \\epsilon_{it} \\\\\nY_{i,t-1} &=  \\mathbf{X}_{i,t-1}'\\beta + \\tau D_{i,t-1} + U_i + \\epsilon_{i,t-1} \\\\\nY_{it} - Y_{i,t-1} &= (\\mathbf{X}_{it} - \\mathbf{X}_{i,t-1})'\\beta + \\tau (D_{it} - D_{i,t-1}) + (U_i - U_i) +  (\\epsilon_{it} - \\epsilon_{i,t-1}) \\\\\n&= (\\mathbf{X}_{it} - \\mathbf{X}_{i,t-1})'\\beta + \\tau (D_{it} - D_{i,t-1}) + (\\epsilon_{it} - \\epsilon_{i,t-1}) \\quad \\quad \\quad Eq. 7\n\\end{aligned}\n\\]\n\n\nDemeaning\n\\[\n\\begin{align}\n(Y_{it}-\\bar{Y_i}) &= (\\mathbf{X}_{it}-\\bar{\\mathbf{X}_i})'\\beta + \\tau (D_{it}-\\bar{D_i}) + (U_i - \\bar{U_i)} + (\\epsilon_{it} - \\bar{\\epsilon_i}) \\\\\n&= (\\mathbf{X}_{it}-\\bar{\\mathbf{X}_i})'\\beta + \\tau (D_{it}-\\bar{D_i})  + (\\epsilon_{it} - \\bar{\\epsilon_i}) \\quad \\quad \\quad Eq. 8\n\\end{align}\n\\]\n\n\nQuasi Demeaning\n\\[\n\\begin{align}\n(Y_{it}-\\theta \\bar{Y_i}) = (\\mathbf{X}_{it}-\\theta \\bar{\\mathbf{X}_i})'\\beta + \\tau (D_{it}-\\theta \\bar{D_i})  + (\\epsilon_{it} - \\theta \\bar{\\epsilon_i}) \\quad \\quad \\quad Eq. 9\n\\end{align}\n\\]\nnote: need to define theta still.\n\n\nCorrelated Random Effects\n\\[\n\\begin{align}\nY_{it} &= \\mathbf{X}_{it}'\\beta + \\tau D_i + \\overbrace{U_i}^{U_i = \\bar{\\mathbf{X}_i}'\\gamma+\\omega_i} + \\epsilon_{it} \\\\\n&= \\mathbf{X}_{it}'\\beta + \\tau D_i + \\bar{\\mathbf{X}_i}'\\gamma+ \\underbrace{\\omega_i + \\epsilon_{it}}_{v_{it}} \\\\\nv_{it} &= \\omega_i + \\epsilon_{it} \\\\\n\\omega_i &\\sim N(0,\\sigma^2_u\n\\end{align}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#basic-model",
    "href": "ignore/panel-data-full-animation.html#basic-model",
    "title": "Panel Data",
    "section": "Basic Model",
    "text": "Basic Model\n\nA"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#basic-model-1",
    "href": "ignore/panel-data-full-animation.html#basic-model-1",
    "title": "Panel Data",
    "section": "Basic Model",
    "text": "Basic Model\n\nA+B\nA"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#basic-model-2",
    "href": "ignore/panel-data-full-animation.html#basic-model-2",
    "title": "Panel Data",
    "section": "Basic Model",
    "text": "Basic Model\n\n\\[\nY_i = \\mathbf{X}_i'\\beta + \\tau D_i \\quad \\quad  + \\quad \\quad \\epsilon_i\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#basic-model-3",
    "href": "ignore/panel-data-full-animation.html#basic-model-3",
    "title": "Panel Data",
    "section": "Basic Model",
    "text": "Basic Model\n\n\\[\nY_i= \\underbrace{\\color{green}{\\mathbf{X}_i'\\beta} + \\color{green}{\\tau D_i}}_{\\text{Systematic component}} + \\underbrace{\\color{red}{\\epsilon_i}}_{\\text{Stochastic Component}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#basic-model-4",
    "href": "ignore/panel-data-full-animation.html#basic-model-4",
    "title": "Panel Data",
    "section": "Basic Model",
    "text": "Basic Model\n\n\\[\nY_i= \\color{green}{\\mathbf{X}_i'\\beta} + \\color{green}{\\tau D_i} + \\color{red}{\\epsilon_i}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#add-unobserved-heterogeneity",
    "href": "ignore/panel-data-full-animation.html#add-unobserved-heterogeneity",
    "title": "Panel Data",
    "section": "Add Unobserved Heterogeneity",
    "text": "Add Unobserved Heterogeneity\n\\[\nY_i= \\color{green}{\\mathbf{X}_i'\\beta} + \\color{green}{\\tau D_i} + \\color{purple}{U_i} + \\color{red}{\\epsilon_i}\n\\]\n\n\\[\nY_i= \\color{green}{\\mathbf{X}_i'\\beta} + \\color{green}{\\tau D_i} + \\color{red}{\\epsilon_i}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#go-to-panel-data-setting",
    "href": "ignore/panel-data-full-animation.html#go-to-panel-data-setting",
    "title": "Panel Data",
    "section": "Go To Panel Data Setting",
    "text": "Go To Panel Data Setting\n\\[\nY_{it} = \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{grenn}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]\n\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#pooled-ols",
    "href": "ignore/panel-data-full-animation.html#pooled-ols",
    "title": "Panel Data",
    "section": "Pooled OLS",
    "text": "Pooled OLS\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\overbrace{\\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}}^{\\color{red}{\\eta_{it}}}\n\\]\n\n\\[\nY_{it} = \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#pooled-ols-1",
    "href": "ignore/panel-data-full-animation.html#pooled-ols-1",
    "title": "Panel Data",
    "section": "Pooled OLS",
    "text": "Pooled OLS\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{red}{\\eta_{it}}\n\\]\n\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\overbrace{\\color{purple}{U_i} + \\color{red}{\\epsilon_i}}^{\\color{red}{\\eta_{it}}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#random-effects",
    "href": "ignore/panel-data-full-animation.html#random-effects",
    "title": "Panel Data",
    "section": "Random Effects",
    "text": "Random Effects\n\\[\n\\begin{aligned}\nY_{it} &= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{red}{\\eta_{it}}\n\\end{aligned}\n\\]\n\n\\[\n\\begin{aligned}\n\\color{red}{\\eta_{it}} &= \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\end{aligned}\n\\]\n\n\n\\[\n\\begin{aligned}\n\\color{purple}{U_i} &\\sim N(0,\\sigma^2_u)\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#dummy-variable-regression",
    "href": "ignore/panel-data-full-animation.html#dummy-variable-regression",
    "title": "Panel Data",
    "section": "Dummy Variable Regression",
    "text": "Dummy Variable Regression\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]\n\n\\[\n\\begin{aligned}\nY_{it} &= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{red}{\\eta_{it}}\n\\end{aligned}\n\\]\n\\[\n\\begin{aligned}\n\\color{red}{\\eta_{it}} &= \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\end{aligned}\n\\]\n\\[\n\\begin{aligned}\n\\color{purple}{U_i} &\\sim N(0,\\sigma^2_u)\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#dummy-variable-regression-1",
    "href": "ignore/panel-data-full-animation.html#dummy-variable-regression-1",
    "title": "Panel Data",
    "section": "Dummy Variable Regression",
    "text": "Dummy Variable Regression\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{green}{\\mathbf{U_i}} + \\color{red}{\\epsilon_{it}}\n\\]\n\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#first-differences",
    "href": "ignore/panel-data-full-animation.html#first-differences",
    "title": "Panel Data",
    "section": "First Differences",
    "text": "First Differences\n\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{green}{\\mathbf{U_i}} + \\color{red}{\\epsilon_{it}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#first-differences-1",
    "href": "ignore/panel-data-full-animation.html#first-differences-1",
    "title": "Panel Data",
    "section": "First Differences",
    "text": "First Differences\n\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#first-differences-2",
    "href": "ignore/panel-data-full-animation.html#first-differences-2",
    "title": "Panel Data",
    "section": "First Differences",
    "text": "First Differences\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]\n\n\\[\nY_{i,t-1}= \\color{green}{\\mathbf{X}_{i,t-1}'\\beta} + \\color{green}{\\tau D_{i,t-1}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{i,t-1}}\n\\]\n\n\n\\[\n\\(Y_{it} - Y_{i,t-1}) = \\color{green}{(\\mathbf{X}_{it}-\\mathbf{X}_{i,t-1})'\\beta} + \\color{green}{\\tau (D_{it}-D_{i,t-1})} + \\color{purple}{U_i} + \\color{red}{(\\epsilon_{it}-\\epsilon_{i,t-1})}\n\\]"
  },
  {
    "objectID": "ignore/panel-data-full-animation.html#first-differences-3",
    "href": "ignore/panel-data-full-animation.html#first-differences-3",
    "title": "Panel Data",
    "section": "First Differences",
    "text": "First Differences\n\\[\n\\Delta Y_{it}= \\color{green}{\\Delta \\mathbf{X}_{it}'\\beta} + \\color{green}{\\Delta \\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\Delta \\epsilon_{it}}\n\\]\n\n\\[\nY_{it}= \\color{green}{\\mathbf{X}_{it}'\\beta} + \\color{green}{\\tau D_{it}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{it}}\n\\]\n\\[\nY_{i,t-1}= \\color{green}{\\mathbf{X}_{i,t-1}'\\beta} + \\color{green}{\\tau D_{i,t-1}} + \\color{purple}{U_i} + \\color{red}{\\epsilon_{i,t-1}}\n\\]\n\\[\n(Y_{it} - Y_{i,t-1}) = \\color{green}{(\\mathbf{X}_{it}-\\mathbf{X}_{i,t-1})'\\beta} + \\color{green}{\\tau (D_{it}-D_{i,t-1})} + \\color{purple}{U_i} + \\color{red}{(\\epsilon_{it}-\\epsilon_{i,t-1})}\n\\]"
  },
  {
    "objectID": "ignore/wooldridge-extended-twfe-did.html",
    "href": "ignore/wooldridge-extended-twfe-did.html",
    "title": "DID Estimators",
    "section": "",
    "text": "Let’s start by loading libraries and data.\n\n\n\n\n\nlemp\nyear\nfirst_treat\ncountyreal\n\n\n\n\n8.461469\n2003\n2007\n8001\n\n\n8.336870\n2004\n2007\n8001\n\n\n8.340217\n2005\n2007\n8001\n\n\n8.378161\n2006\n2007\n8001\n\n\n8.487352\n2007\n2007\n8001\n\n\n4.997212\n2003\n2007\n8019\n\n\n\n\n\nNow let’s create some design variables.\n\nA treatment indicator\nCategorical (factor) variables for treatment group and time.\nDummy indicators for the treatment group and time variables.\n\n\ndf <- \n  df_raw %>% \n     # Create a binary treatment indicator that is one if ever treated and \n     # current year is >= treatment year. \n     mutate(treated = case_when(\n       year >= first_treat & first_treat > 0 ~ 1, \n       TRUE ~ 0\n    )) %>% \n  mutate(year = factor(year), \n         first_treat = factor(first_treat)) %>% \n  fastDummies::dummy_cols(c(\"year\",\"first_treat\"))\n\ndf %>% \n  head() %>% \n  kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlemp\nyear\nfirst_treat\ncountyreal\ntreated\nyear_2003\nyear_2004\nyear_2005\nyear_2006\nyear_2007\nfirst_treat_0\nfirst_treat_2004\nfirst_treat_2006\nfirst_treat_2007\n\n\n\n\n8.461469\n2003\n2007\n8001\n0\n1\n0\n0\n0\n0\n0\n0\n0\n1\n\n\n8.336870\n2004\n2007\n8001\n0\n0\n1\n0\n0\n0\n0\n0\n0\n1\n\n\n8.340217\n2005\n2007\n8001\n0\n0\n0\n1\n0\n0\n0\n0\n0\n1\n\n\n8.378161\n2006\n2007\n8001\n0\n0\n0\n0\n1\n0\n0\n0\n0\n1\n\n\n8.487352\n2007\n2007\n8001\n1\n0\n0\n0\n0\n1\n0\n0\n0\n1\n\n\n4.997212\n2003\n2007\n8019\n0\n1\n0\n0\n0\n0\n0\n0\n0\n1\n\n\n\n\n\nOur next step is to create a series of interaction terms between treatment group, time, and treated. However, for a given treatment group we only include interactions with times that occur on or after the treatment time.\nWe’ll figure out these using a crossing() command:\n\ntreatment_group_times <- levels(df$first_treat) %>% as.numeric(); treatment_group_times\n\n[1]    0 2004 2006 2007\n\n# Note we eventually need to get rid of hte never treated (0's) for the interactions\nall_times <- levels(df$year) %>% as.numeric() ; all_times\n\n[1] 2003 2004 2005 2006 2007\n\ninteractions_needed <- crossing(first_treat = treatment_group_times, year = all_times) %>% \n  mutate(occurs_on_or_after = as.integer(year >= first_treat)) %>% \n  filter(first_treat != \"0\") \n\ninteractions_needed %>% kable()\n\n\n\n\nfirst_treat\nyear\noccurs_on_or_after\n\n\n\n\n2004\n2003\n0\n\n\n2004\n2004\n1\n\n\n2004\n2005\n1\n\n\n2004\n2006\n1\n\n\n2004\n2007\n1\n\n\n2006\n2003\n0\n\n\n2006\n2004\n0\n\n\n2006\n2005\n0\n\n\n2006\n2006\n1\n\n\n2006\n2007\n1\n\n\n2007\n2003\n0\n\n\n2007\n2004\n0\n\n\n2007\n2005\n0\n\n\n2007\n2006\n0\n\n\n2007\n2007\n1\n\n\n\n\n\nLet’s now restrict to cases that were ever treated (i.e., treatment_group_time!=0) and the times that occur on or after those dates:\n\ninteractions_needed <- \n  interactions_needed %>% \n  filter(occurs_on_or_after==1)\n\ninteractions_needed %>% kable()\n\n\n\n\nfirst_treat\nyear\noccurs_on_or_after\n\n\n\n\n2004\n2004\n1\n\n\n2004\n2005\n1\n\n\n2004\n2006\n1\n\n\n2004\n2007\n1\n\n\n2006\n2006\n1\n\n\n2006\n2007\n1\n\n\n2007\n2007\n1\n\n\n\n\n\nNow lets create a column that has the formula for the interaction between group * time * treated:\n\ninteractions_needed <- \n  interactions_needed %>% \n  mutate(first_treat = glue(\"first_treat_{first_treat}\"),\n         year = glue(\"year_{year}\")) %>% \n  mutate(rhs = glue(\"{first_treat}:{year}:treated\")) \ninteractions_needed %>% kable()\n\n\n\n\n\n\n\n\n\n\nfirst_treat\nyear\noccurs_on_or_after\nrhs\n\n\n\n\nfirst_treat_2004\nyear_2004\n1\nfirst_treat_2004:year_2004:treated\n\n\nfirst_treat_2004\nyear_2005\n1\nfirst_treat_2004:year_2005:treated\n\n\nfirst_treat_2004\nyear_2006\n1\nfirst_treat_2004:year_2006:treated\n\n\nfirst_treat_2004\nyear_2007\n1\nfirst_treat_2004:year_2007:treated\n\n\nfirst_treat_2006\nyear_2006\n1\nfirst_treat_2006:year_2006:treated\n\n\nfirst_treat_2006\nyear_2007\n1\nfirst_treat_2006:year_2007:treated\n\n\nfirst_treat_2007\nyear_2007\n1\nfirst_treat_2007:year_2007:treated\n\n\n\n\n\nThis allows us to pull out the right-hand side variable definitions for our eventual regression.\n\nrhs <- interactions_needed %>% pull(rhs) %>% as.vector()\nrhs <- paste0(rhs, collapse = \"+\")\nrhs\n\n[1] \"first_treat_2004:year_2004:treated+first_treat_2004:year_2005:treated+first_treat_2004:year_2006:treated+first_treat_2004:year_2007:treated+first_treat_2006:year_2006:treated+first_treat_2006:year_2007:treated+first_treat_2007:year_2007:treated\"\n\n\nWe can now fit a TWFE regression:\n\nfit_fmla <- as.formula(glue(\"lemp ~ {rhs} | first_treat + year\")); fit_fmla\n\nlemp ~ first_treat_2004:year_2004:treated + first_treat_2004:year_2005:treated + \n    first_treat_2004:year_2006:treated + first_treat_2004:year_2007:treated + \n    first_treat_2006:year_2006:treated + first_treat_2006:year_2007:treated + \n    first_treat_2007:year_2007:treated | first_treat + year\n\nfit <- feols(fit_fmla, data = df)\n\n\n# library(data.table)\n# broom::tidy(fit) %>% kable()\n# \n# # Clean the results\n# etwfe = as.data.table(tidy(fit))\n# etwfe = etwfe[\n#     , .(term = term, etwfe = estimate)][\n#     , group := as.numeric(gsub(\".*cohort.\", \"\", term))][\n#     , year := as.numeric(gsub(\".*time_to_treat.(\\\\d+).*\", \"\\\\1\", term)) + group][\n#     , .(group, year, etwfe)]\n\n\nfeols(lemp ~ treated : factor(first_treat) : factor(year) | first_treat + year, data = df) %>% \n  broom::tidy() %>% kable()\n\n\nSCRATCH\n\n\n\n\n\nApproach 2\nSource\n\nlibrary(\"did\")\nlibrary(\"broom\")\nlibrary(\"fixest\")\nlibrary(\"ggplot2\")\nlibrary(\"data.table\")\n\nsimulation6 = function() {\n  dat = CJ(firm = 1:1000, year = 1980:2015)     [\n    , time_fe := rnorm(1, sd = .5), by = \"year\"][\n    , unit_fe := rnorm(1, sd = .5), by = \"firm\"][\n    , state := sample(1:50, 1), by = \"firm\"    ]\n\n  setkey(dat, state, firm, year)\n\n  treatment_groups = data.table(\n    state = c(1, 18, 35),\n    cohort = c(1989, 1998, 2007),\n    hat_gamma = c(.5, .3, .1))\n  dat = treatment_groups[dat, roll = TRUE, on = \"state\"]\n\n  dat                                                [\n    , treat  := as.numeric(year >= cohort)          ][\n    , gamma  := rnorm(.N, mean = hat_gamma, sd = .2)][\n    , tau    := fifelse(treat == 1, gamma, 0)       ][\n    , cumtau := cumsum(tau), by = \"firm\"            ][\n    , error  := rnorm(.N, 0, .5)                    ][\n    , y := unit_fe + time_fe + cumtau + error       ][\n    , time_to_treat := year - cohort                ]\n\n  return(dat)\n}\n\ndat = simulation6()\n\n\netwfe = feols(y ~ treat : factor(time_to_treat) : factor(cohort) | firm + year, data = dat)\n\n# Clean the results\netwfe = as.data.table(tidy(etwfe))\netwfe = etwfe[\n    , .(term = term, etwfe = estimate)][\n    , group := as.numeric(gsub(\".*cohort.\", \"\", term))][\n    , year := as.numeric(gsub(\".*time_to_treat.(\\\\d+).*\", \"\\\\1\", term)) + group][\n    , .(group, year, etwfe)]\n\n\ncsa = att_gt(\n    yname = \"y\",\n    gname = \"cohort\",\n    idname = \"firm\",\n    tname = \"year\",\n    control_group = \"notyettreated\",\n    data = dat)\n\n# Clean the results\ncsa = data.table(group = csa$group, year = csa$t, csa = csa$att)\n\n\n# merge the TWFE and CSA results\nresults = merge(etwfe, csa, by = c(\"group\", \"year\"))\ncolnames(results) = c(\"Cohort\", \"Year\", \"TWFE w/ interactions\", \"CSA (2021)\")\nresults[, Cohort := factor(Cohort)]\n\ndat_plot = melt(results, id.vars = c(\"Cohort\", \"Year\"))\nggplot(dat_plot, aes(Year, value, color = variable, linetype = Cohort)) +\n  geom_line(size = 1.4) +\n  theme_minimal() +\n  labs(x = \"Year\", y = \"ATT\", color = \"Estimator\", linetype = \"Cohort\")\n\n\nggplot(results, aes(`TWFE w/ interactions`, `CSA (2021)`, color = Cohort)) +\n  geom_point(size = 2) +\n  geom_abline(intercept = 0, slope = 1) +\n  labs(title = \"On the 45 degree line, estimates of the group-time ATT\\nare identical under the two strategies.\") +\n  theme_minimal()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Advanced Program and Policy Evaluation",
    "section": "",
    "text": "Schedule\n    \n    \n  \n  \n    \n      \n      \n      \n    \n  \n  \n    \n      August 24, 2022\n    \n    8:45 AM\n10:45 AM\nCourse Introduction and Mechanics\n    \n      August 30, 2022\n    \n    8:45 AM\n10:45 AM\nSimulation as a Guide for Study Design, Estimation, and Inference\n    \n      September 7, 2022\n    \n    8:45 AM\n10:45 AM\nPanel Data Methods I: Fixed, Random, and Correlated Random Effects Estimation\n    \n      September 14, 2022\n    \n    8:45 AM\n10:45 AM\nPanel Data II: Difference-in-Differences Revisited\n    \n      September 21, 2022\n    \n    8:45 AM\n10:45 AM\nNext Generation Difference-in-Differences Estimators\n    \n      September 28, 2022\n    \n    8:45 AM\n10:45 AM\nNonlinear Differences-in-Differences and Functional Form Considerations\n    \n      October 5, 2022\n    \n    8:45 AM\n10:45 AM\nInterrupted Time Series vs. Differences-in-Differences (Guest Lecture by Dr. Carrie Fry)\n    \n      October 12, 2022\n    \n    8:45 AM\n10:45 AM\nNO CLASS\n    \n      October 19, 2022\n    \n    8:45 AM\n8:45 AM\nPeer Review Writeup Due\n    8:45 AM\n10:45 AM\nNO CLASS\n    \n      October 26, 2022\n    \n    8:45 AM\n10:45 AM\nStatistical Inference for Policy Evaluation\n    \n      November 2, 2022\n    \n    8:45 AM\n10:45 AM\nSynthetic Control Methods\n    \n      November 9, 2022\n    \n    8:45 AM\n10:45 AM\nQuantile Treatment Effects and Changes-in-Changes\n    \n      November 16, 2022\n    \n    8:45 AM\n8:45 AM\nDraft Methods Writeup Due to Peer Reviewer\n    8:45 AM\n10:45 AM\nPartial Identification Methods: Treatment Effect Bounds\n    \n      December 1, 2022\n    \n    8:45 AM\n8:45 AM\nYour Review of Your Peer's Methods Writeup is Due Back to Them\n    8:45 AM\n10:45 AM\nResearch Project Organization, Execution and Workflows: Best Practices\n    \n      December 8, 2022\n    \n    8:45 AM\n8:45 AM\nFinal Methods Writeup Due to John\n    8:45 AM\n10:45 AM\nStudent Methods Presentations\n  \n  \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/posts/post1.html",
    "href": "blog/posts/post1.html",
    "title": "A post!",
    "section": "",
    "text": "This is a post!"
  },
  {
    "objectID": "blog/storage/post2.html",
    "href": "blog/storage/post2.html",
    "title": "second post",
    "section": "",
    "text": "National Harbor1 is a census-designated place (CDP) in Prince George’s County, Maryland, United States, located along the Potomac River near the Woodrow Wilson Bridge and just south of Washington. It originated as a 300-acre (1.2 km2) multi-use waterfront development. Per the 2020 census, the population was 5,509."
  },
  {
    "objectID": "blog/storage/post2.html#development",
    "href": "blog/storage/post2.html#development",
    "title": "second post",
    "section": "Development",
    "text": "Development\nThe Gaylord National Resort & Convention Center at National Harbor opened on April 1, 2008 in Oxon Hill, Maryland. The site is being developed by Milton Peterson’s Peterson Companies with the project expected to cost well over $2 billion, and a construction time frame of 2007 to late 2014. As of April 2016 construction was continuing and the cost was set at $4 billion. In 2010, the development was designated as a census-designated place.\n\n\nReasons to go:\n\nFerris wheel\nFerris wheel\n\n\n\n\n\n\n\nGaylord National Resort\n\n\n\nBe prepared for the massive scale of the atrium which has a mini-version of a town inside it.\n\n\n\n\n\n\n\n\nDisney\nThe land developed for National Harbor was previously Salubria Plantation, built in 1827 by Dr. John H. Bayne. The plantation house burned down in 1981 and was offered for sale along with the surrounding land. The land was sold in 1984 and in 1994 was rezoned for mixed-use development. In the fall of 1997, the Maryland Department of the Environment and the Army Corps of Engineers approved new developer permits, granted for the PortAmerica project in 1988.\n\n\n\n\n\n\n\n(a) View from Virginia.\n\n\n\n\n\n\n\n(b) View from the air.\n\n\n\n\n\n\n\n\n\n(c) View from the promenade.\n\n\n\n\nFigure 1: Three views of the ferris wheel.\n\n\nHere’s a big version of one of those images!\n\n\n\n\nA BIG view from the promenade."
  },
  {
    "objectID": "blog/storage/did-revisited.html#plot-data",
    "href": "blog/storage/did-revisited.html#plot-data",
    "title": "Simulate DID Data",
    "section": "Plot Data",
    "text": "Plot Data"
  },
  {
    "objectID": "blog/storage/did-revisited.html#extended-twfe-model",
    "href": "blog/storage/did-revisited.html#extended-twfe-model",
    "title": "Simulate DID Data",
    "section": "Extended TWFE Model",
    "text": "Extended TWFE Model\nThe problem I’m running into here is as follows. In a panel where there is a later treated unit (e.g., 2007) there should be no interactions with years at or above this. The problem is that when I run it this way, the constant term that is fit in Stata is not fit in R,so the coefficients are off. Only if I allow for these interactions will the coefficients be correct for the first treated groups, but not the latter.\nMaybe see here?\n\nDebugging\n\n\nStructuring the data\n\nNeed to only make interactions between group (treatment_time) and time (year) where year>treatment_time\n\n\n# This data frame is structured to use not-yet-treated groups as controls.\n\ndf_etwfe6 <- \n  data6 %>% \n  mutate_at(vars(treatment_time,year), function(x) as.numeric(paste0(x))) %>% \n  mutate(max_treat = max(treatment_time, na.rm=TRUE)) %>% \n  # DROP ALL OBSERVATIONS THAT AREN'T iDENTIFIED\n  filter(year < max_treat) %>% \n  mutate(year_lt_treatment_time = as.integer(year < treatment_time)) %>% \n  mutate(year_tmp = case_when(year >= treatment_time ~ year)) %>% \n  #mutate(year_tmp = case_when(year >= treatment_time & year < max(treatment_time,na.rm=TRUE) ~ year)) %>%  THIS IS THE PROBLEMATIC LINE\n  mutate(treatment_time_tmp = case_when(year >= treatment_time ~ treatment_time)) %>% \n  mutate(treatment_time = ifelse(is.na(treatment_time),0,treatment_time)) %>% \n  mutate(treatment_time = factor(treatment_time),\n         year = factor(year)) %>% \n  mutate(treatment_time_tmp = factor(treatment_time_tmp),\n         year_tmp = factor(year_tmp)) %>%   \n  mutate(i = interaction(treat,treatment_time_tmp,year_tmp,sep=\":\")) %>% \n  mutate(i = paste0(i)) %>% \n  dummy_cols(\"i\") %>%\n  janitor::clean_names() \n\n\nAll Groups Eventually Treated\nUsing group fixed effects.\n\n#1a  jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time)  group\nfmla1a <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6),value=TRUE),collapse = '+')} | treatment_time + year\"))\nfmla1a\n\ndep_var ~ i_1_1989_1989 + i_1_1989_1990 + i_1_1989_1991 + i_1_1989_1992 + \n    i_1_1989_1993 + i_1_1989_1994 + i_1_1989_1995 + i_1_1989_1996 + \n    i_1_1989_1997 + i_1_1989_1998 + i_1_1989_1999 + i_1_1989_2000 + \n    i_1_1989_2001 + i_1_1989_2002 + i_1_1989_2003 + i_1_1989_2004 + \n    i_1_1989_2005 + i_1_1989_2006 + i_1_1998_1998 + i_1_1998_1999 + \n    i_1_1998_2000 + i_1_1998_2001 + i_1_1998_2002 + i_1_1998_2003 + \n    i_1_1998_2004 + i_1_1998_2005 + i_1_1998_2006 | treatment_time + \n    year\n\nfit1a <- feols(fmla1a,df_etwfe6); fit1a\n\nOLS estimation, Dep. Var.: dep_var\nObservations: 27,540 \nFixed-effects: treatment_time: 3,  year: 27\nStandard-errors: Clustered (treatment_time) \n              Estimate Std. Error  t value   Pr(>|t|)    \ni_1_1989_1989 0.517869   0.005313  97.4663 1.0525e-04 ***\ni_1_1989_1990 1.004300   0.010166  98.7881 1.0245e-04 ***\ni_1_1989_1991 1.550839   0.004281 362.2268 7.6214e-06 ***\ni_1_1989_1992 2.071319   0.014702 140.8870 5.0376e-05 ***\ni_1_1989_1993 2.589192   0.015190 170.4546 3.4416e-05 ***\ni_1_1989_1994 3.077164   0.016160 190.4184 2.7578e-05 ***\ni_1_1989_1995 3.575394   0.017963 199.0412 2.5240e-05 ***\ni_1_1989_1996 4.068570   0.017527 232.1337 1.8557e-05 ***\n... 19 coefficients remaining (display them with summary() or use argument n)\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\nRMSE: 1.5468     Adj. R2: 0.691977\n               Within R2: 0.437509\n\nest1a <- \n  tidy(fit1a) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - Group FE\") %>% \n  mutate_at(vars(group,year), as.numeric)\n    \nstata(\"jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time)  group\", data.in = data6 %>% mutate_at(vars(year,treatment_time),function(x) as.numeric(paste0(x))))\n\n. jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time)  group\nWARNING: Singleton observations not dropped; statistical significance is biased\n>  (link)\n(MWFE estimator converged in 2 iterations)\n\nHDFE Linear regression                            Number of obs   =     27,540\nAbsorbing 2 HDFE groups                           F(  27,    999) =     111.72\nStatistics robust to heteroskedasticity           Prob > F        =     0.0000\n                                                  R-squared       =     0.6926\n                                                  Adj R-squared   =     0.6920\n                                                  Within R-sq.    =     0.4375\nNumber of clusters (unit)    =      1,000         Root MSE        =     1.5484\n\n                               (Std. Err. adjusted for 1,000 clusters in unit)\n------------------------------------------------------------------------------\n             |               Robust\n     dep_var |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]\n-------------+----------------------------------------------------------------\ntreatment_~e#|\n        year#|\n    c.__tr__ |\n  1989 1989  |   .5178693   .0372636    13.90   0.000     .4447453    .5909932\n  1989 1990  |     1.0043   .0415044    24.20   0.000     .9228538    1.085745\n  1989 1991  |   1.550839   .0475119    32.64   0.000     1.457605    1.644074\n  1989 1992  |   2.071319   .0560568    36.95   0.000     1.961317    2.181322\n  1989 1993  |   2.589192   .0648888    39.90   0.000     2.461858    2.716526\n  1989 1994  |   3.077164    .074136    41.51   0.000     2.931684    3.222645\n  1989 1995  |   3.575394   .0845013    42.31   0.000     3.409574    3.741215\n  1989 1996  |    4.06857   .0937119    43.42   0.000     3.884675    4.252464\n  1989 1997  |   4.612207   .1033639    44.62   0.000     4.409372    4.815042\n  1989 1998  |   5.079753   .1189554    42.70   0.000     4.846322    5.313184\n  1989 1999  |   5.596485   .1254812    44.60   0.000     5.350249    5.842722\n  1989 2000  |   6.158109   .1343776    45.83   0.000     5.894414    6.421804\n  1989 2001  |   6.713318   .1456057    46.11   0.000      6.42759    6.999046\n  1989 2002  |   7.258804   .1566236    46.35   0.000     6.951455    7.566153\n  1989 2003  |   7.775437   .1700776    45.72   0.000     7.441686    8.109187\n  1989 2004  |   8.200653   .1782936    46.00   0.000      7.85078    8.550526\n  1989 2005  |   8.744845   .1881211    46.49   0.000     8.375687    9.114003\n  1989 2006  |   9.291998   .1983105    46.86   0.000     8.902845    9.681151\n  1998 1998  |   .2604234   .0433209     6.01   0.000      .175413    .3454338\n  1998 1999  |   .5240356   .0454425    11.53   0.000     .4348619    .6132094\n  1998 2000  |   .8750152   .0511054    17.12   0.000     .7747289    .9753016\n  1998 2001  |   1.169471   .0562379    20.80   0.000     1.059113    1.279829\n  1998 2002  |   1.473139   .0635668    23.17   0.000       1.3484    1.597879\n  1998 2003  |   1.740737   .0733502    23.73   0.000     1.596798    1.884675\n  1998 2004  |   1.978509   .0855811    23.12   0.000      1.81057    2.146449\n  1998 2005  |   2.323759   .0914666    25.41   0.000      2.14427    2.503247\n  1998 2006  |   2.645879   .0987683    26.79   0.000     2.452061    2.839696\n             |\n       _cons |   .2219691   .0306909     7.23   0.000     .1617431    .2821951\n------------------------------------------------------------------------------\n\nAbsorbed degrees of freedom:\n--------------------------------------------------------+\n    Absorbed FE | Categories  - Redundant  = Num. Coefs |\n----------------+---------------------------------------|\n treatment_time |         3           0           3     |\n           year |        27           1          26     |\n--------------------------------------------------------+\n\nest1a %>% kable()\n\n\n\n\ngroup\nyear\natt\nestimator\n\n\n\n\n1989\n1989\n0.5178693\nETWFE - Group FE\n\n\n1989\n1990\n1.0042995\nETWFE - Group FE\n\n\n1989\n1991\n1.5508393\nETWFE - Group FE\n\n\n1989\n1992\n2.0713192\nETWFE - Group FE\n\n\n1989\n1993\n2.5891920\nETWFE - Group FE\n\n\n1989\n1994\n3.0771643\nETWFE - Group FE\n\n\n1989\n1995\n3.5753941\nETWFE - Group FE\n\n\n1989\n1996\n4.0685697\nETWFE - Group FE\n\n\n1989\n1997\n4.6122069\nETWFE - Group FE\n\n\n1989\n1998\n5.0797534\nETWFE - Group FE\n\n\n1989\n1999\n5.5964855\nETWFE - Group FE\n\n\n1989\n2000\n6.1581087\nETWFE - Group FE\n\n\n1989\n2001\n6.7133184\nETWFE - Group FE\n\n\n1989\n2002\n7.2588041\nETWFE - Group FE\n\n\n1989\n2003\n7.7754367\nETWFE - Group FE\n\n\n1989\n2004\n8.2006526\nETWFE - Group FE\n\n\n1989\n2005\n8.7448449\nETWFE - Group FE\n\n\n1989\n2006\n9.2919979\nETWFE - Group FE\n\n\n1998\n1998\n0.2604234\nETWFE - Group FE\n\n\n1998\n1999\n0.5240356\nETWFE - Group FE\n\n\n1998\n2000\n0.8750152\nETWFE - Group FE\n\n\n1998\n2001\n1.1694712\nETWFE - Group FE\n\n\n1998\n2002\n1.4731394\nETWFE - Group FE\n\n\n1998\n2003\n1.7407367\nETWFE - Group FE\n\n\n1998\n2004\n1.9785092\nETWFE - Group FE\n\n\n1998\n2005\n2.3237586\nETWFE - Group FE\n\n\n1998\n2006\n2.6458786\nETWFE - Group FE\n\n\n\n\n\nUsing unit fixed effects – this one runs into p\n\n#2b jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time) \nfmla1b <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6),value=TRUE),collapse = '+')} | unit + year\"))\nfit1b <- feols(fmla1b,df_etwfe6)\n\nest1b <- \n  tidy(fit1b) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - Unit FE\") %>% \n  mutate_at(vars(group,year), as.numeric)\n\n\n\nOnly Use a Never Treated Group as Control\n\ndf_etwfe6b <- \n  data6b %>% \n  mutate_at(vars(treatment_time,year), function(x) as.numeric(paste0(x))) %>% \n  \n  group_by(treatment_time) %>% \n  arrange(treatment_time,year) %>% \n  mutate(first_year = as.integer(row_number()==1)) %>% \n  \n  mutate(treatment_time = ifelse(is.na(treatment_time),0,treatment_time)) %>% \n  \n  mutate(year_tmp = case_when(year >= treatment_time  ~ year)) %>% \n  mutate(treatment_time_tmp = case_when(year >= treatment_time~ treatment_time)) %>% \n  \n \n  mutate(treatment_time = factor(treatment_time),\n         year = factor(year)) %>% \n  \n  mutate(treatment_time_tmp = factor(treatment_time_tmp),\n         year_tmp = factor(year_tmp)) %>%   \n  mutate(i = interaction(treat,treatment_time_tmp,year_tmp,sep=\":\")) %>% \n  mutate(i = paste0(i)) %>% \n  dummy_cols(\"i\") %>%\n  janitor::clean_names() %>% \n  select(-i_na)\n\n\n\n# This data frame is structured to only use never-treated groups as controls. \ndf_etwfe6b_nt <- \n  data6b %>% \n  mutate_at(vars(treatment_time,year), function(x) as.numeric(paste0(x))) %>% \n  \n  mutate(treat = 1) %>% \n  \n  mutate(treatment_time = ifelse(is.na(treatment_time),0,treatment_time)) %>% \n  \n  group_by(treatment_time) %>% \n  mutate(first_year = as.integer(year == min(year,na.rm=TRUE))) %>% \n  ungroup()  %>% \n  # mutate(year_tmp = year,\n         # treatment_time_tmp = treatment_time) %>% \n  mutate(year_tmp = case_when(first_year!=1  ~ year)) %>% \n\n  mutate(treatment_time_tmp = case_when( first_year != 1~ treatment_time)) %>% \n    \n\n  mutate(treatment_time_tmp = factor(treatment_time_tmp),\n         year_tmp = factor(year_tmp)) %>%   \n  \n    \n  mutate(treatment_time = factor(treatment_time),\n         year = factor(year)) %>% \n  \n  \n  mutate(i = interaction(treat,treatment_time_tmp,year_tmp,sep=\":\")) %>% \n  mutate(i = paste0(i)) %>% \n  dummy_cols(\"i\") %>%\n  janitor::clean_names() %>% \n  select(-contains(\"i_1_0_\"))\n\n\n#2a  jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time)  group\nfmla2a <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6b),value=TRUE),collapse = '+')} | treatment_time + year\"))\nfmla2a\n\ndep_var ~ i_1_1989_1989 + i_1_1989_1990 + i_1_1989_1991 + i_1_1989_1992 + \n    i_1_1989_1993 + i_1_1989_1994 + i_1_1989_1995 + i_1_1989_1996 + \n    i_1_1989_1997 + i_1_1989_1998 + i_1_1989_1999 + i_1_1989_2000 + \n    i_1_1989_2001 + i_1_1989_2002 + i_1_1989_2003 + i_1_1989_2004 + \n    i_1_1989_2005 + i_1_1989_2006 + i_1_1989_2007 + i_1_1989_2008 + \n    i_1_1989_2009 + i_1_1989_2010 + i_1_1989_2011 + i_1_1989_2012 + \n    i_1_1989_2013 + i_1_1989_2014 + i_1_1989_2015 + i_1_1998_1998 + \n    i_1_1998_1999 + i_1_1998_2000 + i_1_1998_2001 + i_1_1998_2002 + \n    i_1_1998_2003 + i_1_1998_2004 + i_1_1998_2005 + i_1_1998_2006 + \n    i_1_1998_2007 + i_1_1998_2008 + i_1_1998_2009 + i_1_1998_2010 + \n    i_1_1998_2011 + i_1_1998_2012 + i_1_1998_2013 + i_1_1998_2014 + \n    i_1_1998_2015 | treatment_time + year\n\nfit2a <- feols(fmla2a,df_etwfe6b)\nest2a <- \n  tidy(fit2a) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - Group FE\") %>% \n  mutate_at(vars(group,year), as.numeric)\n\n#2b  jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time)  \nfmla2b <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6b),value=TRUE),collapse = '+')} | unit + year\"))\nfmla2b\n\ndep_var ~ i_1_1989_1989 + i_1_1989_1990 + i_1_1989_1991 + i_1_1989_1992 + \n    i_1_1989_1993 + i_1_1989_1994 + i_1_1989_1995 + i_1_1989_1996 + \n    i_1_1989_1997 + i_1_1989_1998 + i_1_1989_1999 + i_1_1989_2000 + \n    i_1_1989_2001 + i_1_1989_2002 + i_1_1989_2003 + i_1_1989_2004 + \n    i_1_1989_2005 + i_1_1989_2006 + i_1_1989_2007 + i_1_1989_2008 + \n    i_1_1989_2009 + i_1_1989_2010 + i_1_1989_2011 + i_1_1989_2012 + \n    i_1_1989_2013 + i_1_1989_2014 + i_1_1989_2015 + i_1_1998_1998 + \n    i_1_1998_1999 + i_1_1998_2000 + i_1_1998_2001 + i_1_1998_2002 + \n    i_1_1998_2003 + i_1_1998_2004 + i_1_1998_2005 + i_1_1998_2006 + \n    i_1_1998_2007 + i_1_1998_2008 + i_1_1998_2009 + i_1_1998_2010 + \n    i_1_1998_2011 + i_1_1998_2012 + i_1_1998_2013 + i_1_1998_2014 + \n    i_1_1998_2015 | unit + year\n\nfit2b <- feols(fmla2b,df_etwfe6b)\nest2b <- \n  tidy(fit2b) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - Unit FE\") %>% \n  mutate_at(vars(group,year), as.numeric)#2b  jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time)  \nfmla2b <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6b),value=TRUE),collapse = '+')} | unit + year\"))\nfmla2b\n\ndep_var ~ i_1_1989_1989 + i_1_1989_1990 + i_1_1989_1991 + i_1_1989_1992 + \n    i_1_1989_1993 + i_1_1989_1994 + i_1_1989_1995 + i_1_1989_1996 + \n    i_1_1989_1997 + i_1_1989_1998 + i_1_1989_1999 + i_1_1989_2000 + \n    i_1_1989_2001 + i_1_1989_2002 + i_1_1989_2003 + i_1_1989_2004 + \n    i_1_1989_2005 + i_1_1989_2006 + i_1_1989_2007 + i_1_1989_2008 + \n    i_1_1989_2009 + i_1_1989_2010 + i_1_1989_2011 + i_1_1989_2012 + \n    i_1_1989_2013 + i_1_1989_2014 + i_1_1989_2015 + i_1_1998_1998 + \n    i_1_1998_1999 + i_1_1998_2000 + i_1_1998_2001 + i_1_1998_2002 + \n    i_1_1998_2003 + i_1_1998_2004 + i_1_1998_2005 + i_1_1998_2006 + \n    i_1_1998_2007 + i_1_1998_2008 + i_1_1998_2009 + i_1_1998_2010 + \n    i_1_1998_2011 + i_1_1998_2012 + i_1_1998_2013 + i_1_1998_2014 + \n    i_1_1998_2015 | unit + year\n\nfit2b <- feols(fmla2b,df_etwfe6b)\nest2b <- \n  tidy(fit2b) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - Unit FE\") %>% \n  mutate_at(vars(group,year), as.numeric)\n\n\n\n\n## NEED TO GET RID OF ONE MORE CATEGORY (1998 x 1980)\n#2c  jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time) group never\nfmla2c <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6b_nt),value=TRUE),collapse = '+')} | treatment_time + year\"))\nfit2c <- feols(fmla2c,df_etwfe6b_nt)\nest2c <- \n  tidy(fit2c) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - NT Cx - Group FE\") %>% \n  mutate_at(vars(group,year), as.numeric); est2c\n\n# A tibble: 70 × 4\n   group  year      att estimator               \n   <dbl> <dbl>    <dbl> <chr>                   \n 1  1989  1981  0.0457  ETWFE - NT Cx - Group FE\n 2  1989  1982  0.0105  ETWFE - NT Cx - Group FE\n 3  1989  1983 -0.0485  ETWFE - NT Cx - Group FE\n 4  1989  1984  0.00327 ETWFE - NT Cx - Group FE\n 5  1989  1985  0.0404  ETWFE - NT Cx - Group FE\n 6  1989  1986  0.0488  ETWFE - NT Cx - Group FE\n 7  1989  1987  0.0339  ETWFE - NT Cx - Group FE\n 8  1989  1988  0.0729  ETWFE - NT Cx - Group FE\n 9  1989  1989  0.551   ETWFE - NT Cx - Group FE\n10  1989  1990  1.07    ETWFE - NT Cx - Group FE\n# … with 60 more rows\n# ℹ Use `print(n = ...)` to see more rows\n\n#2d jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time) never !!!! THIS ONE SEEMS TO BE WRONG IN STATA ... \nfmla2d <- as.formula(glue(\"dep_var ~ {paste0(grep('i_1_',colnames(df_etwfe6b_nt),value=TRUE),collapse = '+')} | unit + year\"))\nfit2d <- feols(fmla2d,df_etwfe6b_nt %>% mutate(unit = factor(unit)))\nest2d <- \n  tidy(fit2d) %>% \n  separate(term, into =c(\"tmp\",\"tmp2\",\"group\",\"year\"))  %>% \n  mutate(att = estimate) %>% \n  select(group, year , att) %>% \n  mutate(estimator = \"ETWFE - NT Cx - Unit FE\") %>% \n  mutate_at(vars(group,year), as.numeric); est2d\n\n# A tibble: 70 × 4\n   group  year   att estimator              \n   <dbl> <dbl> <dbl> <chr>                  \n 1  1989  1981 -2.13 ETWFE - NT Cx - Unit FE\n 2  1989  1982 -2.17 ETWFE - NT Cx - Unit FE\n 3  1989  1983 -2.22 ETWFE - NT Cx - Unit FE\n 4  1989  1984 -2.17 ETWFE - NT Cx - Unit FE\n 5  1989  1985 -2.14 ETWFE - NT Cx - Unit FE\n 6  1989  1986 -2.13 ETWFE - NT Cx - Unit FE\n 7  1989  1987 -2.14 ETWFE - NT Cx - Unit FE\n 8  1989  1988 -2.10 ETWFE - NT Cx - Unit FE\n 9  1989  1989 -1.62 ETWFE - NT Cx - Unit FE\n10  1989  1990 -1.10 ETWFE - NT Cx - Unit FE\n# … with 60 more rows\n# ℹ Use `print(n = ...)` to see more rows\n\nstata(\"\n      replace treatment_time = 0 if treatment_time==.\n      jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time) never\n      \", data.in = data6b %>% mutate_at(vars(year,treatment_time),function(x) as.numeric(paste0(x))))\n\n. \n.       replace treatment_time = 0 if treatment_time==.\n(11,520 real changes made)\n.       jwdid  dep_var , ivar(unit) tvar(year) gvar(treatment_time) never\nWARNING: Singleton observations not dropped; statistical significance is biased\n>  (link)\n(MWFE estimator converged in 2 iterations)\n\nHDFE Linear regression                            Number of obs   =     36,720\nAbsorbing 2 HDFE groups                           F(  70,    999) =      52.72\nStatistics robust to heteroskedasticity           Prob > F        =     0.0000\n                                                  R-squared       =     0.8933\n                                                  Adj R-squared   =     0.8900\n                                                  Within R-sq.    =     0.6644\nNumber of clusters (unit)    =      1,000         Root MSE        =     1.4030\n\n                               (Std. Err. adjusted for 1,000 clusters in unit)\n------------------------------------------------------------------------------\n             |               Robust\n     dep_var |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]\n-------------+----------------------------------------------------------------\ntreatment_~e#|\n        year#|\n    c.__tr__ |\n  1989 1981  |   -2.13068   .2781846    -7.66   0.000    -2.676574   -1.584787\n  1989 1982  |  -2.165824   .2838223    -7.63   0.000     -2.72278   -1.608868\n  1989 1983  |  -2.224826   .2813932    -7.91   0.000    -2.777015   -1.672636\n  1989 1984  |  -2.173094   .2812326    -7.73   0.000    -2.724968    -1.62122\n  1989 1985  |  -2.135981   .2823926    -7.56   0.000    -2.690132   -1.581831\n  1989 1986  |  -2.127594   .2819504    -7.55   0.000    -2.680877   -1.574311\n  1989 1987  |  -2.142484   .2810383    -7.62   0.000    -2.693977   -1.590991\n  1989 1988  |  -2.103464   .2824816    -7.45   0.000     -2.65779   -1.549139\n  1989 1989  |  -1.624911   .2838119    -5.73   0.000    -2.181847   -1.067975\n  1989 1990  |  -1.102836   .2845056    -3.88   0.000    -1.661133    -.544539\n  1989 1991  |  -.5366926   .2837746    -1.89   0.059    -1.093555      .02017\n  1989 1992  |  -.0726824   .2857726    -0.25   0.799    -.6334659    .4881011\n  1989 1993  |   .4562377   .2849997     1.60   0.110    -.1030291    1.015504\n  1989 1994  |   1.013602   .2874776     3.53   0.000      .449473    1.577731\n  1989 1995  |    1.44858   .2904825     4.99   0.000     .8785537    2.018605\n  1989 1996  |   2.074765   .2940846     7.05   0.000     1.497671     2.65186\n  1989 1997  |   2.534337   .2960339     8.56   0.000     1.953418    3.115257\n  1989 1998  |   3.059938    .298301    10.26   0.000     2.474569    3.645306\n  1989 1999  |   3.519583   .3021084    11.65   0.000     2.926743    4.112423\n  1989 2000  |   4.061689   .3073895    13.21   0.000     3.458486    4.664892\n  1989 2001  |   4.526754   .3117569    14.52   0.000      3.91498    5.138527\n  1989 2002  |   5.079941   .3156834    16.09   0.000     4.460463     5.69942\n  1989 2003  |   5.634095   .3220921    17.49   0.000      5.00204     6.26615\n  1989 2004  |   6.031187   .3253152    18.54   0.000     5.392808    6.669567\n  1989 2005  |   6.574809   .3302243    19.91   0.000     5.926797    7.222822\n  1989 2006  |    7.16533   .3383616    21.18   0.000     6.501349    7.829311\n  1989 2007  |   7.634926   .3426029    22.29   0.000     6.962622     8.30723\n  1989 2008  |   8.173451   .3490919    23.41   0.000     7.488413    8.858489\n  1989 2009  |   8.640451   .3535604    24.44   0.000     7.946645    9.334258\n  1989 2010  |   9.173808    .358396    25.60   0.000     8.470513    9.877103\n  1989 2011  |   9.707677    .367764    26.40   0.000     8.985999    10.42936\n  1989 2012  |   10.18169   .3764892    27.04   0.000     9.442889    10.92049\n  1989 2013  |   10.76687   .3815876    28.22   0.000     10.01806    11.51567\n  1989 2014  |   11.26021   .3894645    28.91   0.000     10.49595    12.02447\n  1989 2015  |   11.67952   .3990549    29.27   0.000     10.89644     12.4626\n  1998 1981  |  -4.154931   .4950212    -8.39   0.000    -5.126331    -3.18353\n  1998 1982  |  -4.145238    .506249    -8.19   0.000    -5.138672   -3.151805\n  1998 1983  |  -4.163393   .4991961    -8.34   0.000    -5.142986     -3.1838\n  1998 1984  |  -4.117665   .5016832    -8.21   0.000    -5.102139   -3.133191\n  1998 1985  |  -4.183229   .5046189    -8.29   0.000    -5.173463   -3.192994\n  1998 1986  |  -4.151837   .5070184    -8.19   0.000     -5.14678   -3.156893\n  1998 1987  |  -4.119726   .5027954    -8.19   0.000    -5.106382    -3.13307\n  1998 1988  |  -4.100275   .5040219    -8.14   0.000    -5.089338   -3.111212\n  1998 1989  |  -4.144802   .5045463    -8.21   0.000    -5.134894    -3.15471\n  1998 1990  |  -4.150831   .5035879    -8.24   0.000    -5.139042    -3.16262\n  1998 1991  |  -4.132798   .5025636    -8.22   0.000    -5.118999   -3.146597\n  1998 1992  |  -4.108177   .5039346    -8.15   0.000    -5.097069   -3.119285\n  1998 1993  |  -4.212871   .5000489    -8.42   0.000    -5.194138   -3.231604\n  1998 1994  |  -4.077489   .5015331    -8.13   0.000    -5.061668   -3.093309\n  1998 1995  |  -4.172908   .5026526    -8.30   0.000    -5.159284   -3.186532\n  1998 1996  |  -4.072899   .5011463    -8.13   0.000    -5.056319   -3.089479\n  1998 1997  |  -4.073735   .5041295    -8.08   0.000    -5.063009   -3.084461\n  1998 1998  |   -3.90725   .4995883    -7.82   0.000    -4.887612   -2.926887\n  1998 1999  |  -3.578686   .4961812    -7.21   0.000    -4.552363   -2.605009\n  1998 2000  |  -3.229124   .4953636    -6.52   0.000    -4.201197   -2.257052\n  1998 2001  |  -2.887718   .4977424    -5.80   0.000    -3.864459   -1.910977\n  1998 2002  |  -2.541988   .4874357    -5.22   0.000    -3.498503   -1.585473\n  1998 2003  |  -2.222443   .4914583    -4.52   0.000    -3.186852   -1.258034\n  1998 2004  |  -2.024433   .4894436    -4.14   0.000    -2.984888   -1.063977\n  1998 2005  |  -1.660049   .4867218    -3.41   0.001    -2.615163   -.7049346\n  1998 2006  |  -1.256683   .4871236    -2.58   0.010    -2.212586   -.3007798\n  1998 2007  |  -1.003088   .4878721    -2.06   0.040    -1.960459   -.0457158\n  1998 2008  |  -.6607098   .4835464    -1.37   0.172    -1.609593    .2881733\n  1998 2009  |  -.4652009   .4837085    -0.96   0.336    -1.414402    .4840003\n  1998 2010  |   -.147981   .4806668    -0.31   0.758    -1.091213    .7952514\n  1998 2011  |   .2988659    .482425     0.62   0.536    -.6478167    1.245548\n  1998 2012  |   .5724526    .482922     1.19   0.236    -.3752052     1.52011\n  1998 2013  |   .9317273    .486148     1.92   0.056     -.022261    1.885716\n  1998 2014  |   1.272859    .485385     2.62   0.009     .3203682     2.22535\n  1998 2015  |   1.410131   .4921544     2.87   0.004     .4443558    2.375906\n             |\n       _cons |    2.28901    .258125     8.87   0.000     1.782481     2.79554\n------------------------------------------------------------------------------\n\nAbsorbed degrees of freedom:\n-----------------------------------------------------+\n Absorbed FE | Categories  - Redundant  = Num. Coefs |\n-------------+---------------------------------------|\n        unit |      1000        1000           0    *|\n        year |        36           1          35     |\n-----------------------------------------------------+\n* = FE nested within cluster; treated as redundant for DoF computation\n."
  },
  {
    "objectID": "blog/storage/did-revisited.html#estimate-cs",
    "href": "blog/storage/did-revisited.html#estimate-cs",
    "title": "Simulate DID Data",
    "section": "Estimate CS",
    "text": "Estimate CS\n\ndata6_cs <- \n  data6 %>% \n  mutate(year = as.numeric(paste0(year)),\n         treatment_time = as.numeric(paste0(treatment_time)))  %>% \n  mutate(treatment_time = ifelse(is.na(treatment_time),0,treatment_time))\n  \n\nfit_cs6 <- att_gt(yname = \"dep_var\",\n                        tname = \"year\",\n                        idname = \"unit\",\n                        gname = \"treatment_time\",\n                        control_group = \"notyettreated\",\n                        data = data6_cs\n                        )\n\nWarning in pre_process_did(yname = yname, tname = tname, idname = idname, :\nDropped 20 observations while converting to balanced panel.\n\nest_cs6 <-  tibble(group = fit_cs6$group, year = fit_cs6$t, att = fit_cs6$att) %>% \n  mutate(estimator = \"CS\") \n\n\ndata6b_cs <- \n  data6b %>% \n  mutate(year = as.numeric(paste0(year)),\n         treatment_time = as.numeric(paste0(treatment_time)))  %>% \n  mutate(treatment_time = ifelse(is.na(treatment_time),0,treatment_time))\n\nWarning in mask$eval_all_mutate(quo): NAs introduced by coercion\n\nfit_cs6b <- att_gt(yname = \"dep_var\",\n                        tname = \"year\",\n                        idname = \"unit\",\n                        gname = \"treatment_time\",\n                        control_group = \"nevertreated\",\n                        data = data6b_cs\n                        )\n\nWarning in pre_process_did(yname = yname, tname = tname, idname = idname, :\nDropped 20 observations while converting to balanced panel.\n\nest_cs6b <-  tibble(group = fit_cs6b$group, year = fit_cs6b$t, att = fit_cs6b$att) %>% \n  mutate(estimator = \"CS\")"
  },
  {
    "objectID": "blog/storage/did-revisited.html#compare",
    "href": "blog/storage/did-revisited.html#compare",
    "title": "Simulate DID Data",
    "section": "Compare",
    "text": "Compare\n\nest1a %>% \n  bind_rows(est1b) %>% \n  bind_rows(est_cs6) %>% \n  ggplot(aes(x = year, y = att, colour = factor(group), pch = estimator)) + \n  geom_point() +\n  #ggthemes::theme_clean() +\n  ggsci::scale_color_aaas() \n\n\n\nest2a %>% \n  bind_rows(est2b) %>% \n  bind_rows(est2c) %>% \n  bind_rows(est2d) %>% \n  bind_rows(est_cs6b) %>% \n  ggplot(aes(x = year, y = att, colour = factor(group), pch = estimator)) + \n  geom_point() +\n  #theme_clean() +\n  ggsci::scale_color_aaas() +\n  #scale_shape_manual(values =c(19,4,3)) +\n  facet_grid(~group)\n\n\n\n\nSource\nReview paper\nWooldridge"
  },
  {
    "objectID": "slides/lec_introduction.html#welcome-to-hpol8539",
    "href": "slides/lec_introduction.html#welcome-to-hpol8539",
    "title": "Introduction and Course Details",
    "section": "Welcome to HPOL8539!",
    "text": "Welcome to HPOL8539!\n\n\nYou are the inaugural cohort!\nCourse grew out of growing need to expand and de-mystify the “toolkit” of program and policy evaluation methods."
  },
  {
    "objectID": "slides/lec_introduction.html#the-dreaded-ice-breaker-questions",
    "href": "slides/lec_introduction.html#the-dreaded-ice-breaker-questions",
    "title": "Introduction and Course Details",
    "section": "The Dreaded Ice Breaker Questions",
    "text": "The Dreaded Ice Breaker Questions\n\n\nWhat research topics are you interested in / working on?\nWhat method vexes you the most?\nWhat do you hope to take away from this course?"
  },
  {
    "objectID": "slides/lec_introduction.html#welcome-to-hpol8539-1",
    "href": "slides/lec_introduction.html#welcome-to-hpol8539-1",
    "title": "Introduction and Course Details",
    "section": "Welcome to HPOL8539!",
    "text": "Welcome to HPOL8539!\n\n\nLast 5 years have witnessed a disorienting advancement in methods for program and policy evaluation.\nThe social sciences (naively) thought you could take basic panel data methods (e.g., fixed effects regression) and apply them to any “flavor” of policy intervention:\n\nStaggered treatment adoption.\nScenarios with heterogeneous treatment effects."
  },
  {
    "objectID": "slides/lec_introduction.html#policy-evaluation-methods-until-2019",
    "href": "slides/lec_introduction.html#policy-evaluation-methods-until-2019",
    "title": "Introduction and Course Details",
    "section": "Policy Evaluation Methods Until 2019",
    "text": "Policy Evaluation Methods Until 2019"
  },
  {
    "objectID": "slides/lec_introduction.html#policy-evaluation-2019-2021",
    "href": "slides/lec_introduction.html#policy-evaluation-2019-2021",
    "title": "Introduction and Course Details",
    "section": "Policy Evaluation: 2019-2021",
    "text": "Policy Evaluation: 2019-2021"
  },
  {
    "objectID": "slides/lec_introduction.html#policy-evaluation-2019-2021-1",
    "href": "slides/lec_introduction.html#policy-evaluation-2019-2021-1",
    "title": "Introduction and Course Details",
    "section": "Policy Evaluation: 2019-2021",
    "text": "Policy Evaluation: 2019-2021\nThe rest of us:\n\n\n\nvia GIPHY"
  },
  {
    "objectID": "slides/lec_introduction.html#policy-evaluation-2022",
    "href": "slides/lec_introduction.html#policy-evaluation-2022",
    "title": "Introduction and Course Details",
    "section": "Policy Evaluation: 2022",
    "text": "Policy Evaluation: 2022\nEconometricians:\n\n\n\n\n\nvia GIPHY\n\n\n\n\n\nvia GIPHY"
  },
  {
    "objectID": "slides/lec_introduction.html#policy-evaluation-2022-1",
    "href": "slides/lec_introduction.html#policy-evaluation-2022-1",
    "title": "Introduction and Course Details",
    "section": "Policy Evaluation: 2022",
    "text": "Policy Evaluation: 2022\nThe rest of us:\n\n\n\nvia GIPHY"
  },
  {
    "objectID": "slides/lec_introduction.html#welcome-to-hpol8539-2",
    "href": "slides/lec_introduction.html#welcome-to-hpol8539-2",
    "title": "Introduction and Course Details",
    "section": "Welcome to HPOL8539!",
    "text": "Welcome to HPOL8539!\n\n\nThe goal of this course is to chart an intuitive path through recent advancements in policy evaluation methods.\nWe’ll spend quite a bit of time on DID and event study methods.\nWe’ll also cover some other important new estimation approaches.\nWe’ll also cover statistical inference issues."
  },
  {
    "objectID": "slides/lec_introduction.html#guiding-principles-for-hpol8539",
    "href": "slides/lec_introduction.html#guiding-principles-for-hpol8539",
    "title": "Introduction and Course Details",
    "section": "Guiding Principles for HPOL8539",
    "text": "Guiding Principles for HPOL8539\n\n\nWe will take our time and adapt as needed.\nThe focus of the course will be on “proof by simulation.”\nBy the end of the course you will have access to materials on all the topics.\n\nDepending on our pacing, we may “decant” some of the methods from live class sessions to “blog” posts on the website."
  },
  {
    "objectID": "slides/lec_introduction.html#a-typical-causal-inference-policy-evaluation-course",
    "href": "slides/lec_introduction.html#a-typical-causal-inference-policy-evaluation-course",
    "title": "Introduction and Course Details",
    "section": "A Typical Causal Inference / Policy Evaluation Course",
    "text": "A Typical Causal Inference / Policy Evaluation Course\n\n\nRead a bunch of econometrics before class.\nSee a bunch of econometrics flashed on slides during class.\nBang your head against the wall outside of class to code up and complete an assignment based on the econometrics."
  },
  {
    "objectID": "slides/lec_introduction.html#how-this-class-will-operate",
    "href": "slides/lec_introduction.html#how-this-class-will-operate",
    "title": "Introduction and Course Details",
    "section": "How This Class Will Operate",
    "text": "How This Class Will Operate\n\n\nRead some econometrics before class.1\nCollectively bang our heads against the wall by coding up a “live” case study during class.\nAssignments will focus on rigorously peer reviewing an unpublished research study, and writing up a methods section for a grant proposal, dissertation proposal, or research project.\n\n\nCan’t avoid the econometrics entirely!"
  },
  {
    "objectID": "slides/lec_introduction.html#how-this-class-will-operate-1",
    "href": "slides/lec_introduction.html#how-this-class-will-operate-1",
    "title": "Introduction and Course Details",
    "section": "How This Class Will Operate",
    "text": "How This Class Will Operate\n\n\nThere are no formal lectures. Only discussions, some white board work, and “live case studies.”\nI have “flipped” the class format in the sense that the hard-core econometrics will show up primarily in the readings."
  },
  {
    "objectID": "slides/lec_introduction.html#guiding-principles-for-hpol8539-1",
    "href": "slides/lec_introduction.html#guiding-principles-for-hpol8539-1",
    "title": "Introduction and Course Details",
    "section": "Guiding Principles for HPOL8539",
    "text": "Guiding Principles for HPOL8539\n\nThe case studies will be done in R, but you will not need to be or become an advanced R programmer to do them!1\n\nI highly recommend becoming familiar with R / tidyverse methods, though!"
  },
  {
    "objectID": "slides/lec_introduction.html#grading-and-assignments",
    "href": "slides/lec_introduction.html#grading-and-assignments",
    "title": "Introduction and Course Details",
    "section": "Grading and Assignments",
    "text": "Grading and Assignments\n\n\n40% of student assessment is based on direct observation and engagement.\n20% is basd on a written critique of a working paper that applies course methods to a current research topic (DUE: OCTOBER 19)"
  },
  {
    "objectID": "slides/lec_introduction.html#grading-and-assignments-1",
    "href": "slides/lec_introduction.html#grading-and-assignments-1",
    "title": "Introduction and Course Details",
    "section": "Grading and Assignments",
    "text": "Grading and Assignments\n\n\nRemaining 40% is based on written methods section for a proposed research study you aim to undertake during your dissertation (or afterwards).\nThere are two choices for the structure of this assignment:\n\nAs an “Approach” section for an NIH/AHRQ grant application\nAs a methods section for a research study or PhD dissertation proposal.\nAlternative structures may be pursued after consultation with Dr. Graves, and with his permission."
  },
  {
    "objectID": "slides/lec_introduction.html#grading-and-assignments-2",
    "href": "slides/lec_introduction.html#grading-and-assignments-2",
    "title": "Introduction and Course Details",
    "section": "Grading and Assignments",
    "text": "Grading and Assignments\n\n\nThree weeks in advance of the final written methods section being due (on December 8), you will submit a draft to a peer reviewer in the course (November 16)\nYou will also be a peer reviewer for another student’s work."
  },
  {
    "objectID": "slides/lec_introduction.html#grading-and-assignments-3",
    "href": "slides/lec_introduction.html#grading-and-assignments-3",
    "title": "Introduction and Course Details",
    "section": "Grading and Assignments",
    "text": "Grading and Assignments\n\n\n15 percentage points (of the 40% total for the assignment) will be based on your written assessment of your peer’s work. This will be due to them (with a copy to me) on December 1.\nBased on this feedback, you will revise your methods writeup and submit a final version on December 8. This final writeup will be worth 25 percentage points (of the 40% total for the assignment).\nMake sense?"
  },
  {
    "objectID": "slides/lec_introduction.html#grading-and-assignments-4",
    "href": "slides/lec_introduction.html#grading-and-assignments-4",
    "title": "Introduction and Course Details",
    "section": "Grading and Assignments",
    "text": "Grading and Assignments\n\n\nThe guiding principle for this assignment structure is to unearth much of the “hidden curriculum” that often goes untaught in graduate school.\n\nYou will be called upon often to be a peer reviewer.\nThe audience for a grant reviewer and for a peer reviewer are different and you should learn how to write for both.\nYou will often circulate your research to trusted peers for comments before formally submitting for publication."
  },
  {
    "objectID": "slides/lec_introduction.html#questions-or-comments",
    "href": "slides/lec_introduction.html#questions-or-comments",
    "title": "Introduction and Course Details",
    "section": "Questions or Comments?",
    "text": "Questions or Comments?\n\nAre there additional methods you want to learn?\n\n\n\nBack to Website"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  },
  {
    "objectID": "modules/d2-panel.html",
    "href": "modules/d2-panel.html",
    "title": "Panel Data Methods",
    "section": "",
    "text": "Introductions\nItem Two"
  },
  {
    "objectID": "modules/d2-panel.html#slides",
    "href": "modules/d2-panel.html#slides",
    "title": "Panel Data Methods",
    "section": "Slides",
    "text": "Slides\nView slides in full screen"
  },
  {
    "objectID": "modules/d2-panel.html#exercises",
    "href": "modules/d2-panel.html#exercises",
    "title": "Panel Data Methods",
    "section": "Exercises",
    "text": "Exercises\n\n\n\n\n\n\nExercise\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "modules/d1-introduction.html",
    "href": "modules/d1-introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "Introductions\nItem Two"
  },
  {
    "objectID": "modules/d1-introduction.html#slides",
    "href": "modules/d1-introduction.html#slides",
    "title": "Introduction",
    "section": "Slides",
    "text": "Slides\nView slides in full screen"
  },
  {
    "objectID": "modules/d1-introduction.html#exercises",
    "href": "modules/d1-introduction.html#exercises",
    "title": "Introduction",
    "section": "Exercises",
    "text": "Exercises\n\n\n\n\n\n\nExercise\n\n\n\n\n\n\n\n\n\n\n\n\nNo matching items"
  }
]