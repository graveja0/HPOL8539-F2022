<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.36">

  <title>Advanced Program and Policy Evaluation (HPOL8539) - Set Identification and Treatment Effect Bounds</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Set Identification and Treatment Effect Bounds</h1>
</section>

<section id="motivation" class="slide level2">
<h2>Motivation</h2>
<ul>
<li><p>The bulk of this course focuses on on <em>point estimation</em> of a single <strong>average treatment effect</strong> (ATE).</p></li>
<li><p>The ATE provides policymakers with information on the average outcome that would occur if <em>everyone</em> were to receive the intervention.</p></li>
<li><p>But policy effects often do not work like this.</p></li>
</ul>
</section>
<section id="motivation-1" class="slide level2">
<h2>Motivation</h2>
<ul>
<li><p>Consider a policy of expanding subsidized private health insurance coverage to everyone.</p>
<ul>
<li><p>Such a policy would encourage some people to obtain coverage.</p></li>
<li><p>But many others would have obtained coverage in any case.</p></li>
<li><p>Some others would still remain uninsured.</p></li>
</ul></li>
</ul>
</section>
<section id="motivation-heterogeneous-treatment-effects" class="slide level2">
<h2>Motivation: Heterogeneous Treatment Effects</h2>
<ul>
<li><p>The ATE doesn’t necessarily tell us about what would happen to people who were newly encouraged to get insurance.</p></li>
<li><p>If insurance has the same treatment effect on everyone, then the ATE would tell us something useful.</p></li>
<li><p>But often there are heterogenous treatment effects. The ATE only tells us what happens on <em>average</em>.</p></li>
</ul>
</section>
<section id="motivation-assumptions-for-identification-and-estimation" class="slide level2">
<h2>Motivation: Assumptions for Identification and Estimation</h2>
<ul>
<li><p>Even with strong designs and approaches, we must often rely on <strong>assumptions</strong> to identify and/or estimate ATEs.</p></li>
<li><p>What if we’re not willing to make these assumptions?</p></li>
</ul>
</section>
<section id="motivation-assumptions-for-identification-and-estimation-1" class="slide level2 smaller">
<h2>Motivation: Assumptions for Identification and Estimation</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>It could be that policymakers only need guidance on whether a policy is worth pursuing.</p></li>
<li><p>If we could, with minimal assumptions, rule out small/zero treatment effects, that may be sufficient!</p></li>
</ul>
</div><div class="column">
<div style="padding-top: 100px;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/minimal-acceptable.png" style="width:200.0%"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="motivation-assumptions-for-identification-and-estimation-2" class="slide level2 smaller">
<h2>Motivation: Assumptions for Identification and Estimation</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>This lecture will cover methods for <em>set estimation</em> of treatment effects.</p></li>
<li><p>Specifically, we can estimate a range of treatment effect values that are consistent with the data we observe.</p></li>
<li><p>We can start with the absolute minimal set of assumptions, and dial them up to narrow the bounds.</p></li>
</ul>
</div><div class="column">
<div style="padding-top: 100px;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/minimal-acceptable-assumptions.png" style="width:200.0%"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="the-perfect-doctor-randomized" class="slide level2 smaller">
<h2>The Perfect Doctor… Randomized</h2>
<div class="cell">

</div>
<div class="columns">
<div class="column">
<ul>
<li><p>The data table provides hypothetical data on outcomes (Y=survival years post treatment) for 10 patients.</p></li>
<li><p>For each patient <em>both</em> potential outcomes (intervention and no intervention) are shown.</p></li>
<li><p>These are not usual data we would observe since we typically only observe one potential outcome!</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
   <th style="text-align:right;"> Difference </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 7.0 </td>
   <td style="text-align:right;"> 5.0 </td>
   <td style="text-align:right;"> 2.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 5.0 </td>
   <td style="text-align:right;"> 3.0 </td>
   <td style="text-align:right;"> 2.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 5.0 </td>
   <td style="text-align:right;"> 8.0 </td>
   <td style="text-align:right;"> -3.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 7.0 </td>
   <td style="text-align:right;"> 8.0 </td>
   <td style="text-align:right;"> -1.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 4.0 </td>
   <td style="text-align:right;"> 3.0 </td>
   <td style="text-align:right;"> 1.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 10.0 </td>
   <td style="text-align:right;"> 1.0 </td>
   <td style="text-align:right;"> 9.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 1.0 </td>
   <td style="text-align:right;"> 6.0 </td>
   <td style="text-align:right;"> -5.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 5.0 </td>
   <td style="text-align:right;"> 8.0 </td>
   <td style="text-align:right;"> -3.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 3.0 </td>
   <td style="text-align:right;"> 8.0 </td>
   <td style="text-align:right;"> -5.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 9.0 </td>
   <td style="text-align:right;"> 4.0 </td>
   <td style="text-align:right;"> 5.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MEAN </td>
   <td style="text-align:right;"> 5.6 </td>
   <td style="text-align:right;"> 5.4 </td>
   <td style="text-align:right;"> 0.2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="the-perfect-doctor-randomized-1" class="slide level2 smaller">
<h2>The Perfect Doctor… Randomized</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>Lets now assume we observe data from a randomized controlled trial, where the first five patients reflect randomized to the treatment arm, and the final five from the control arm.</p></li>
<li><p>We now have missing data on the potential outcome we don’t observe. This is the <strong>fundamental problem of causal inference</strong>.</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Treatment </th>
   <th style="text-align:left;"> Y(1) </th>
   <th style="text-align:left;"> Y(0) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 7 </td>
   <td style="text-align:left;"> ? </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 5 </td>
   <td style="text-align:left;"> ? </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 5 </td>
   <td style="text-align:left;"> ? </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 7 </td>
   <td style="text-align:left;"> ? </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:left;"> ? </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 4 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="average-treatment-effect" class="slide level2 smaller">
<h2>Average Treatment Effect</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>But we can estimate an average treatment effect!</p></li>
<li><p>The ATE for the RCT data is 0.2, which is identical to the average treatment effect based on the fully observed potential outcomes (0.2).</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Treatment </th>
   <th style="text-align:left;"> Y(1) </th>
   <th style="text-align:left;"> Y(0) </th>
   <th style="text-align:right;"> Diff </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 7 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 5 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 5 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 7 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 1 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 6 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 8 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 8 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> ? </td>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MEAN </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:left;"> 5.6 </td>
   <td style="text-align:left;"> 5.4 </td>
   <td style="text-align:right;"> 0.2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="heterogeneous-treatment-effects" class="slide level2 smaller">
<h2>Heterogeneous Treatment Effects</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>The average treatment effect tells us, on average, what would happen if <em>everyone got the treatment</em>.</p></li>
<li><p>Note, however, that there are heterogeneous treatment effects.</p></li>
<li><p>For example, patient C does better without the new treatment, but is randomized to receive it.</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Treatment </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
   <th style="text-align:right;"> Diff </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> -5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 5 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="effect-heterogeneity-crossing-curves" class="slide level2 smaller">
<h2>Effect Heterogeneity: Crossing Curves</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>We can see this heterogeneity by constructing empirical cumulative distribution function (ECDF) curves for each group.</p></li>
<li><p>These curves tell us what fraction of the group population has an outcome less than or equal to the value on the X axis.</p></li>
<li><p>Both curves start at 0 because 0% of the group has a survival value less than or equal to the smallest value in the group.</p></li>
<li><p>Similarly, both curves end up at at 1.00 because 100% of group has a value less than or equal to the maximum value in the group.</p></li>
</ul>
</div><div class="column">
<div style="padding-top: 100px;">
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="lec_bounds_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="effect-heterogeneity-crossing-curves-1" class="slide level2 smaller">
<h2>Effect Heterogeneity: Crossing Curves</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>Note that the curves cross–this tells us there are heterogenous treatment effects.</p></li>
<li><p>For example, at 3 years the entire treated group is still alive, but 20% of the control group has died.</p></li>
<li><p>But at 7 years <em>all</em> of the treatment group has died and 40% of the control group remains alive!</p></li>
<li><p><strong>The observation that the curves cross excludes the possibility that the treatment effect is 0 or constant.</strong></p></li>
</ul>
</div><div class="column">
<div class="cell" data-layout-align="right">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-right">
<figure>
<p><img data-src="lec_bounds_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>As noted in the motivation section, it may be sufficient for policymakers to be informed of the joint distribution of potential outcomes, or the distribution of the treatment effect.</p></li>
<li><p><em>Kolmogorov’s Conjecture</em> provides a method for bounding the treatment effect with minimal assumptions.</p></li>
<li><p>Specifically, we can bound the distribution of the treatment effect even though we only observe the distributions of the outcomes for each of the treatments.</p></li>
</ul>
</div><div class="column">
<p><strong>Formal definition:</strong></p>
<p>Let <span class="math inline">\(\beta_i = y_i(1) - y_i(0)\)</span> denote the treatment effect and <span class="math inline">\(F\)</span> denote its distribution. Let <span class="math inline">\(F_0\)</span> denote the distribution of outcomes for treatment <span class="math inline">\(x=0\)</span> and <span class="math inline">\(F_1\)</span> denote the distribution of outcomes for treatment <span class="math inline">\(x=1\)</span>. Then <span class="math inline">\(F^L(b)&lt;=F(b)&lt;=F^U(b)\)</span>, where</p>
<p><span class="math display">\[
F^L(b) = \max  \\{ \max_y F_1(y) - F_0(y - b),0  \\}
\]</span></p>
<p>and</p>
<p><span class="math display">\[
F^U(b) = 1 + \min  \\{ \min_y F_1(y) - F_0(y - b),0 \\}
\]</span></p>
</div>
</div>
</section>
<section id="kolmogorov-bounds-1" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>For Kolmogorov bounds, this will be done on the scale of the sample fraction with treatment effect less than or equal to some value.</p></li>
<li><p>For example, we will can place bounds on the fraction of the sample that has a 0 or negative treatment effect.</p></li>
<li><p>If the lower bound is <span class="math inline">\(&gt;0\%\)</span>, then we know that some fraction of the sample is made worse off.</p></li>
</ul>
</div><div class="column">
<p><strong>Formal definition:</strong></p>
<p>Let <span class="math inline">\(\beta_i = y_i(1) - y_i(0)\)</span> denote the treatment effect and <span class="math inline">\(F\)</span> denote its distribution. Let <span class="math inline">\(F_0\)</span> denote the distribution of outcomes for treatment <span class="math inline">\(x=0\)</span> and <span class="math inline">\(F_1\)</span> denote the distribution of outcomes for treatment <span class="math inline">\(x=1\)</span>. Then <span class="math inline">\(F^L(b)&lt;=F(b)&lt;=F^U(b)\)</span>, where</p>
<p><span class="math display">\[
F^L(b) = \max  \\{ \max_y F_1(y) - F_0(y - b),0  \\}
\]</span></p>
<p>and</p>
<p><span class="math display">\[
F^U(b) = 1 + \min  \\{ \min_y F_1(y) - F_0(y - b),0 \\}
\]</span></p>
</div>
</div>
</section>
<section id="kolmogorov-bounds-2" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>Let’s start with the observed “RCT” data from the example.</p></li>
<li><p><code>Y_obs</code> summarizes what we observe, i.e., Y(1) if in treatment arm, Y(0) if control.</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">patient</th>
<th style="text-align: right;">X</th>
<th style="text-align: right;">Y_obs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">G</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">I</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">J</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds-3" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>We’ll now extract out the empirical cumulative distribution function for each group.</p></li>
<li><p>This function tells us what fraction of the group has outcome value <span class="math inline">\(&lt;=\)</span> whatever value you provide it.</p></li>
<li><p>Recall from a few slides back I noted that “at 3 years the entire treated group is still alive, but 20% of the control group has died.”</p></li>
<li><p>You can see this result in the output on the right.</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Get the ECDF </span></span>
<span id="cb1-2"><a href="#cb1-2"></a>F_1 <span class="ot">&lt;-</span> <span class="fu">ecdf</span>(Y_1)</span>
<span id="cb1-3"><a href="#cb1-3"></a>F_0 <span class="ot">&lt;-</span> <span class="fu">ecdf</span>(Y_0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Evaluate ECDF at 3 years for treatment group.</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">F_1</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Evaluate ECDF at 3 years for control group.</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">F_0</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds-4" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li>Note from the formal definition that we maximize and minimize over values of the outcome <span class="math inline">\(y\)</span>. For example:</li>
</ul>
<p><span class="math display">\[
F^L(b) = \max  \\{ \max_y F_1(y) - F_0(y - b),0  \\}
\]</span></p>
<ul>
<li><p>Note that the outcome ranges from 0-10.</p></li>
<li><p>So, to construct bounds we’ll need to evaluate each ECDF at 1, 2, 3, … 10 (and everywhere in-between!).</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="lec_bounds_files/figure-revealjs/unnamed-chunk-14-1.png" style="height:50.0%" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds-5" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>Let’s start with a hypothesized treatment effect of 0 (i.e., the value of <span class="math inline">\(b\)</span> in the formal definition earlier).</p></li>
<li><p>The lower bound tells us: at least what fraction of the sample has a treatment effect of 0 <strong>or below</strong>?</p></li>
<li><p>The upper bound tells us: at most what fraction of the sample has a treatment effect of 0 <strong>or below</strong>?</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>b <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>y_ <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># Lower Bound</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>l <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="dv">0</span>,<span class="fu">max</span>(<span class="fu">F_1</span>(y_) <span class="sc">-</span> <span class="fu">F_0</span>(y_<span class="sc">-</span> b)))</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># Upper Bound</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>u <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">min</span>(<span class="fu">min</span>(<span class="fu">F_1</span>(y_) <span class="sc">-</span> <span class="fu">F_0</span>(y_<span class="sc">-</span> b)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Lower bound</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Upper bound</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>u </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds-6" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>So what can we learn from the data?</p></li>
<li><p>From earlier, we found that the average treatment effect is 0.2, indicating that the treatment benefits people on average.</p></li>
<li><p>But the Kolmogorov bounds at a 0 treatment effect tells us that between 40% and 80% of the sample has a negative treatment effect!</p></li>
<li><p>The fact that the treatment harms 40% or more of people who receive may relevant information for decision making.</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>b <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>y_ <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co"># Lower Bound</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>l <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="dv">0</span>,<span class="fu">max</span>(<span class="fu">F_1</span>(y_) <span class="sc">-</span> <span class="fu">F_0</span>(y_<span class="sc">-</span> b)))</span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co"># Upper Bound</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>u <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">min</span>(<span class="fu">min</span>(<span class="fu">F_1</span>(y_) <span class="sc">-</span> <span class="fu">F_0</span>(y_<span class="sc">-</span> b)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Lower bound</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>l</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Upper bound</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>u </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds-7" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>Let’s now look back at the “full” data (i.e., with both potential outcomes) to confirm our findings.</p></li>
<li><p>Indeed, we see that 5 patients (50%) have treatment effects (<code>Difference</code>) of 0 or below.</p></li>
<li><p>Of course, in the real world we wouldn’t have access to this full dataset.</p></li>
<li><p>But our constructed Kolmogorov bounds (at 0 treatment effect) were 40%-80%, and so accurately captured this information.</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Treatment </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
   <th style="text-align:right;"> Diff </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> -5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 5 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="kolmogorov-bounds-8" class="slide level2 smaller">
<h2>Kolmogorov Bounds</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>We can now repeat this exercise for different hypothesized treatment effects aside from 0.</p></li>
<li><p>A plot of the bounds for various treatment effects is shown on the right.</p></li>
<li><p>Notice again our bounds at 0 (40-80%)</p></li>
<li><p>And notice also that we can rule out treatment effect values of -5 and below because the bounds hug 0 on both ends.</p></li>
</ul>
</div><div class="column">
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="lec_bounds_files/figure-revealjs/unnamed-chunk-21-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="treatment-effect-bounds-alternative-approaches" class="slide level2">
<h2>Treatment Effect Bounds: Alternative Approaches</h2>
<ul>
<li><p>The previous discussion put bounds on the fraction of the sample itself (e.g., the fraction with negative treatment effects).</p></li>
<li><p>What if we want to put bounds on the treatment effect itself–that is, on the scale of the outcome?</p></li>
</ul>
</section>
<section id="treatment-effect-bounds-alternative-approaches-1" class="slide level2">
<h2>Treatment Effect Bounds: Alternative Approaches</h2>
<ul>
<li><p>We may believe that treatment is selected, but the assumptions required for estimating treatment effects are too restrictive or are unrealistic for our application.</p></li>
<li><p>Alternatively, in a randomized setting, we may have noncompliance with treatment, or differential attrition from the study arms.</p></li>
</ul>
</section>
<section>
<section id="worst-case-bounds" class="title-slide slide level1 center">
<h1>“Worst Case” Bounds</h1>
<ul>
<li><p>Also known as “minimal assumptions” bounds or “natural bounds” (Pearl).</p></li>
<li><p>Considers treatment effect bounds when the treatment assignment mechanism is unknown.</p></li>
</ul>
</section>
<section id="worst-case-bounds-1" class="slide level2">
<h2>“Worst Case” Bounds</h2>
<ul>
<li><p>Define treatment <span class="math inline">\(X\)</span> and outcome <span class="math inline">\(Y\)</span>, with potential outcomes <span class="math inline">\(Y(1)\)</span> and <span class="math inline">\(Y(0)\)</span>.</p></li>
<li><p>Define the average treatment effect as</p></li>
</ul>
<p><span class="math display">\[
ATE = \sum_{x=0}^1 E[Y(1)|X=x]Pr[X=x]-\sum_{x=0}^1 E[Y(0)|X=x]Pr[X=x]
\]</span></p>
<ul>
<li>This expression draws on the Law of Total Expectation to decompose the ATE into component parts.</li>
</ul>
</section>
<section id="worst-case-bounds-2" class="slide level2">
<h2>“Worst Case” Bounds</h2>
<p><span class="math display">\[
ATE = \bigg ( \overbrace{E[Y(1)|X=1]Pr(X=1) + E[Y(1)|X=0]Pr(X=0)}^{E[Y(1)]} \bigg )  - \\\ \bigg ( \underbrace{E[Y(0)|X=1]Pr[X=1]  + E[Y(0)|X=0]Pr[X=0]}_{E[Y(0)]} \bigg )
\]</span></p>
<ul>
<li><p>Under SUTVA, there is no interference among units—so there are only two potential outcomes per unit.</p></li>
<li><p>This establishes <em>causal consistency</em> and allows us to simplify because <span class="math inline">\(Y(x)=Y\)</span> when <span class="math inline">\(X=x\)</span>.</p>
<ul>
<li>That is, the Y we observe is <span class="math inline">\(Y(1)\)</span> when in the treatment group and <span class="math inline">\(Y(0)\)</span> when in the untreated group.</li>
</ul></li>
</ul>
</section>
<section id="worst-case-bounds-3" class="slide level2">
<h2>“Worst Case” Bounds</h2>
<p><span class="math display">\[
ATE = \bigg ( \overbrace{E[Y(1)|X=1]Pr(X=1) + \color{red}{E[Y(1)|X=0]}Pr(X=0)}^{E[Y(1)]} \bigg )  - \\\ \bigg ( \underbrace{\color{red}{E[Y(0)|X=1]}Pr[X=1]  + E[Y(0)|X=0]Pr[X=0]}_{E[Y(0)]} \bigg )
\]</span></p>
<ul>
<li><p>So we can use the sample to estimate <span class="math inline">\(E[Y(1)|X=1]\)</span>, <span class="math inline">\(E[Y(0)|X=0]\)</span>, <span class="math inline">\(Pr[X=1]\)</span> and <span class="math inline">\(Pr[X=0]\)</span></p></li>
<li><p>That gets us most of the way there, but there is a problem:</p>
<ul>
<li><p>We can’t observe <span class="math inline">\(E[Y(1)|X=0]\)</span> or <span class="math inline">\(E[Y(0)|X=1]\)</span></p></li>
<li><p>For example, we don’t know the outcome for the units that do not get treated under a policy that assigns treatment to everyone.</p></li>
</ul></li>
</ul>
</section>
<section id="worst-case-bounds-4" class="slide level2">
<h2>“Worst Case” Bounds</h2>
<ul>
<li><p>We can’t observe <span class="math inline">\(E[Y(1)|X=0]\)</span> or <span class="math inline">\(E[Y(0)|X=1]\)</span>, but can we put bounds on them?</p></li>
<li><p>Yes!</p></li>
</ul>
</section>
<section id="worst-case-bounds-5" class="slide level2">
<h2>“Worst Case” Bounds</h2>
<div>
<ul>
<li class="fragment"><p>What is the weakest possible assumption we could make?</p></li>
<li class="fragment"><p>It is to put the largest and smallest possible values on these unknown quantities.</p></li>
<li class="fragment"><p>Intuitively, an average cannot be smaller than the smallest possible number in the set of values being averaged. And it can’t be larger than the largest possible number.</p>
<ul>
<li class="fragment"><p>The smallest outcome value will be denoted <span class="math inline">\(\underline{Y}\)</span>, and the largest <span class="math inline">\(\overline Y\)</span>.</p></li>
<li class="fragment"><p>Bounds will be denoted by <span class="math inline">\(\underline{\text{ATE}}\)</span> and <span class="math inline">\(\overline{\text{ATE}}\)</span>.</p></li>
</ul></li>
</ul>
</div>
<div class="cell">

</div>
</section>
<section id="worst-case-bounds-6" class="slide level2">
<h2>“Worst Case” Bounds</h2>
<ul>
<li>Lower bound is given by</li>
</ul>
<p><span class="math inline">\(\underline{\text{ATE}} = (E[Y|X=1]-\overline{Y})Pr[X=1] + (\underline{Y}-E[Y|X=0])Pr[X=0]\)</span></p>
<ul>
<li>Upper bound is given by</li>
</ul>
<p><span class="math inline">\(\underline{\text{ATE}} = (E[Y|X=1]-\underline{Y})Pr[X=1] + (\overline{Y}-E[Y|X=0])Pr[X=0]\)</span></p>
</section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="01_bounds-plot_annotated_WC.png" class="r-stretch"></section>
<section id="the-perfect-doctorbounded" class="slide level2 smaller">
<h2>The Perfect Doctor…Bounded!</h2>
<div class="cell">

</div>
<div class="columns">
<div class="column">
<ul>
<li><p>The data table provides hypothetical data on outcomes (Y=survival years post treatment) for 10 patients.</p></li>
<li><p>For each patient only the observed potential outcome is shown.</p></li>
<li><p>Treatment status is selected: the intervention is only received among patients who would do better, i.e., <span class="math inline">\(Y(1)&gt;Y(0)\)</span>.</p></li>
<li><p>A naive analysis would conclude the intervention effect is -0.6–though we know from the full data that the true treatment effect is 0.2</p></li>
</ul>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Tx </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 6.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MEAN </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 7.6 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="the-perfect-doctorbounded-1" class="slide level2">
<h2>The Perfect Doctor…Bounded!</h2>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>PX1 <span class="ot">=</span> <span class="fu">mean</span>(X<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a>PX0 <span class="ot">=</span> <span class="fu">mean</span>(X<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb16-3"><a href="#cb16-3"></a>EY_X1 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">1</span>])</span>
<span id="cb16-4"><a href="#cb16-4"></a>EY_X0 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">0</span>])</span>
<span id="cb16-5"><a href="#cb16-5"></a>minY <span class="ot">=</span> <span class="fu">min</span>(Y)</span>
<span id="cb16-6"><a href="#cb16-6"></a>maxY <span class="ot">=</span> <span class="fu">max</span>(Y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Lower Bound</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>(EY_X1 <span class="sc">-</span> maxY)<span class="sc">*</span>PX1 <span class="sc">+</span> (minY <span class="sc">-</span> EY_X0)<span class="sc">*</span>PX0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Upper Bound</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>(EY_X1 <span class="sc">-</span> minY)<span class="sc">*</span>PX1 <span class="sc">+</span> (maxY <span class="sc">-</span> EY_X0)<span class="sc">*</span>PX0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.7</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Tx </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 6.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MEAN </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 7.6 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="worst-case-bounds-useless" class="slide level2 smaller">
<h2>Worst Case Bounds: Useless?</h2>
<ul>
<li><p>The estimated bounds (-3.3 to 2.7) are … wide.</p></li>
<li><p>The benefit is that, knowing treatment is totally selected, they are constructed with minimal assumptions.</p></li>
<li><p>They’re not totally useless: if policies (e.g., new clinical or treatment guidance) would <em>not</em> be implemented unless the treatment effect was larger than 3, then the natural bounds provide useful and actionable information.</p></li>
</ul>
</section>
<section id="treatment-effect-bounds-next-steps" class="slide level2 smaller">
<h2>Treatment Effect Bounds: Next Steps</h2>
<ul>
<li><p>If we’re willing to dial up our assumptions slightly, we can start to tighten the bounds a bit.</p></li>
<li><p>Specifically, we will leverage additional variation in our data to narrow the estimated bounds.</p></li>
<li><p><strong>Assumption</strong>: there is some observable characteristic (Z) such that the average treatment effect does not change with changes in the observable characteristic.</p></li>
<li><p>If this holds, then we can estimate bounds on subsets of the data based on <span class="math inline">\(Z\)</span>.</p>
<ul>
<li>For this example we’ll assume <span class="math inline">\(Z\)</span> is binary.</li>
</ul></li>
</ul>
</section>
<section id="bounds-with-exogenous-variation" class="slide level2">
<h2>Bounds with Exogenous Variation</h2>
<p><span class="math display">\[
\overline{\text{ATE}} = \min \\{ (E[Y|X=1,Z=1] - \underline{Y})Pr(X=1|Z=1) \\\
+(\overline{Y}-E[Y|X=0,Z=1])Pr(X=0|Z=1),\\\
(E[Y|X=1,Z=0] - \underline{Y})Pr(X=1|Z=0)\\\
+(\overline{Y}-E[Y|X=0,Z=0])Pr(X=0|Z=0)\\}
\]</span></p>
<p><span class="math display">\[
\underline{\text{ATE}} = \max \\{ (E[Y|X=1,Z=1] - \overline{Y})Pr(X=1|Z=1) \\\
+(\underline{Y}-E[Y|X=0,Z=1])Pr(X=0|Z=1),\\\
(E[Y|X=1,Z=0] - \overline{Y})Pr(X=1|Z=0)\\\
+(\underline{Y}-E[Y|X=0,Z=0])Pr(X=0|Z=0)\\}
\]</span></p>
</section>
<section id="bounds-with-exogenous-variation-1" class="slide level2">
<h2>Bounds with Exogenous Variation</h2>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>EY_X1Z1 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">1</span>])</span>
<span id="cb21-2"><a href="#cb21-2"></a>EY_X1Z0 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">0</span>])</span>
<span id="cb21-3"><a href="#cb21-3"></a>EY_X0Z1 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">1</span>])</span>
<span id="cb21-4"><a href="#cb21-4"></a>EY_X0Z0 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">0</span>])</span>
<span id="cb21-5"><a href="#cb21-5"></a>PX1_Z1 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb21-6"><a href="#cb21-6"></a>PX1_Z0 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">0</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb21-7"><a href="#cb21-7"></a>PX0_Z1 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb21-8"><a href="#cb21-8"></a>PX0_Z0 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">0</span>]<span class="sc">==</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Lower Bound</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">max</span>((EY_X1Z1<span class="sc">-</span>maxY)<span class="sc">*</span>PX1_Z1 <span class="sc">+</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>      (minY <span class="sc">-</span> EY_X0Z1) <span class="sc">*</span> PX0_Z1,</span>
<span id="cb22-4"><a href="#cb22-4"></a>     (EY_X1Z0<span class="sc">-</span>maxY)<span class="sc">*</span>PX1_Z0 <span class="sc">+</span> </span>
<span id="cb22-5"><a href="#cb22-5"></a>      (minY <span class="sc">-</span> EY_X0Z0) <span class="sc">*</span> PX0_Z0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -2.5</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Tx </th>
   <th style="text-align:right;"> Z </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 6.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MEAN </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 7.6 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="bounds-with-exogenous-variation-2" class="slide level2">
<h2>Bounds with Exogenous Variation</h2>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>EY_X1Z1 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">1</span>])</span>
<span id="cb24-2"><a href="#cb24-2"></a>EY_X1Z0 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">0</span>])</span>
<span id="cb24-3"><a href="#cb24-3"></a>EY_X0Z1 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">1</span>])</span>
<span id="cb24-4"><a href="#cb24-4"></a>EY_X0Z0 <span class="ot">=</span> <span class="fu">mean</span>(Y[X<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> Z<span class="sc">==</span><span class="dv">0</span>])</span>
<span id="cb24-5"><a href="#cb24-5"></a>PX1_Z1 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">1</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb24-6"><a href="#cb24-6"></a>PX1_Z0 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">0</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb24-7"><a href="#cb24-7"></a>PX0_Z1 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">1</span>]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb24-8"><a href="#cb24-8"></a>PX0_Z0 <span class="ot">=</span> <span class="fu">mean</span>(X[Z<span class="sc">==</span><span class="dv">0</span>]<span class="sc">==</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># Upper Bound</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="fu">min</span>((EY_X1Z1<span class="sc">-</span>minY)<span class="sc">*</span>PX1_Z1 <span class="sc">+</span> </span>
<span id="cb25-3"><a href="#cb25-3"></a>    (maxY <span class="sc">-</span> EY_X0Z1) <span class="sc">*</span> PX0_Z1,</span>
<span id="cb25-4"><a href="#cb25-4"></a>    (EY_X1Z0<span class="sc">-</span>minY)<span class="sc">*</span>PX1_Z0 <span class="sc">+</span> </span>
<span id="cb25-5"><a href="#cb25-5"></a>      (maxY <span class="sc">-</span> EY_X0Z0) <span class="sc">*</span> PX0_Z0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.5</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">

<table>
 <thead>
  <tr>
   <th style="text-align:left;"> Patient ID </th>
   <th style="text-align:right;"> Tx </th>
   <th style="text-align:right;"> Z </th>
   <th style="text-align:right;"> Y(1) </th>
   <th style="text-align:right;"> Y(0) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> F </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> G </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 6.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> H </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> I </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> J </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MEAN </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 7.6 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="cell">

</div>
</section>
<section id="bounds-next-steps" class="slide level2 smaller">
<h2>Bounds: Next Steps</h2>
<ul>
<li><p>Recall that the “true” treatment effect is 0.2.</p></li>
<li><p>Our original “natural bounds” (-3.3 to 2.7) were quite wide, but as promised they do include the true treatment effect.</p></li>
<li><p>We narrowed our bounds further to (-2.5 to 1.5) based on an additional assumption.</p></li>
<li><p>We’ll next take this one step further to tighten them even more.</p></li>
</ul>
</section>
<section id="bounds-with-monotonicity" class="slide level2 smaller">
<h2>Bounds with Monotonicity</h2>
<ul>
<li><p><strong>Monotone treatment response (MTR)</strong>: Under treatment each individual will have a response greater than or equal to that under control.</p>
<ul>
<li>At worst, receiving the flu vaccine does not increase the likelihood a patient develops flu-like symptoms.</li>
<li>At best, it increases the likelihood they do not develop symptoms.</li>
</ul></li>
<li><p>Assuming either of the above allows us to narrow the bounds because the assumptions place additional constraints on unobserved counterfactuals.</p></li>
</ul>
</section>
<section id="bounds-with-monotonicity-1" class="slide level2 smaller">
<h2>Bounds with Monotonicity</h2>
<ul>
<li><strong>Monotone treatment selection (MTS)</strong>: individuals who select treatment will on average have outcomes greater than or equal to that of individuals who do not select treatment under the counterfactual scenario all individuals selected the same treatment.</li>
</ul>
</section>
<section id="section-1" class="slide level2">
<h2></h2>

<img data-src="media/01_bounds-plot_annotated.png" class="r-stretch"></section>
<section id="sources" class="slide level2">
<h2>Sources</h2>
<ul>
<li><p>This lecture drew on adapted material from the following:</p>
<ul>
<li>Christopher P. Adams, <em>Learning Microeconometrics with R</em></li>
<li>Scott Cunningham, <em>Causal Inference: The Mixtape</em></li>
</ul></li>
<li><p>A nice STATA command for bounds is available and discussed in McCarthy, Ian, Daniel L. Millimet, and Manan Roy. “Bounding treatment effects: A command for the partial identification of the average treatment effect with endogenous and misreported treatment assignment.” The Stata Journal 15.2 (2015): 411-436.</p></li>
</ul>

<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>